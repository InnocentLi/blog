javascript é«˜çº§ç¨‹åºè®¾è®¡ ç¬”è®°(è¶…å¼ºæ•´ç†)




# åŸºæœ¬ç±»å‹
### typeofæ“ä½œç¬¦
é‰´äº ECMAScript æ˜¯æ¾æ•£ç±»å‹çš„ï¼Œå› æ­¤éœ€è¦æœ‰ä¸€ç§æ‰‹æ®µæ¥æ£€æµ‹ç»™å®šå˜é‡çš„æ•°æ®ç±»å‹â€”â€”typeof å°± æ˜¯è´Ÿè´£æä¾›è¿™æ–¹é¢ä¿¡æ¯çš„æ“ä½œç¬¦ã€‚å¯¹ä¸€ä¸ªå€¼ä½¿ç”¨ typeof æ“ä½œç¬¦å¯èƒ½è¿”å›ä¸‹åˆ—æŸä¸ªå­—ç¬¦ä¸²:

 "undefined"â€”â€”å¦‚æœè¿™ä¸ªå€¼æœªå®šä¹‰; 

 "boolean"â€”â€”å¦‚æœè¿™ä¸ªå€¼æ˜¯å¸ƒå°”å€¼;

 "string"â€”â€”å¦‚æœè¿™ä¸ªå€¼æ˜¯å­—ç¬¦ä¸²;

 "number"â€”â€”å¦‚æœè¿™ä¸ªå€¼æ˜¯æ•°å€¼;

 "object"â€”â€”å¦‚æœè¿™ä¸ªå€¼æ˜¯å¯¹è±¡æˆ– null; 

 "function"â€”â€”å¦‚æœè¿™ä¸ªå€¼æ˜¯å‡½æ•°ã€‚

 typeof null ä¼šè¿”å›"object"ï¼Œå› ä¸ºç‰¹æ®Šå€¼ **null è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªç©ºçš„å¯¹è±¡**å¼•ç”¨ã€‚

## Undefined
ä½¿ç”¨ var å£°æ˜å˜é‡ä½†æœªå¯¹å…¶åŠ ä»¥åˆå§‹åŒ–æ—¶

```javascript
var message;
alert(message == undefined); //true

var message = undefined;
alert(message == undefined); //true

var message; // è¿™ä¸ªå˜é‡å£°æ˜ä¹‹åé»˜è®¤å–å¾—äº† undefined å€¼ 
// ä¸‹é¢è¿™ä¸ªå˜é‡å¹¶æ²¡æœ‰å£°æ˜
// var age
alert(message);// "undefined" 
alert(age);// äº§ç”Ÿé”™è¯¯
```

## null 
```javascript
var car = null;
alert(typeof car);
// "object
```
**undefined å€¼æ˜¯æ´¾ç”Ÿè‡ª null å€¼çš„**ï¼Œå› æ­¤ ECMA-262 è§„å®šå¯¹å®ƒä»¬çš„ç›¸ç­‰æ€§æµ‹è¯•è¦è¿”å› true:
 alert(null == undefined);    //true

 alert(null === undefined);    //false

## Boolean

| Boolean   | true                       | false        |
| --------- | -------------------------- | ------------ |
| String    | ä»»ä½•éç©ºå­—ç¬¦ä¸²             | ""(ç©ºå­—ç¬¦ä¸²) |
| Number    | ä»»ä½•éé›¶æ•°å­—å€¼(åŒ…æ‹¬æ— ç©·å¤§) | 0å’ŒNaN       |
| Object    | ä»»ä½•å¯¹è±¡                   | null         |
| Undefined | ä¸å­˜åœ¨                     | undefined    |


## Number

1. æµ®ç‚¹æ•°å€¼

isNaN()å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å¯ä»¥ æ˜¯ä»»ä½•ç±»å‹ï¼Œè€Œå‡½æ•°ä¼šå¸®æˆ‘ä»¬ç¡®å®šè¿™ä¸ªå‚æ•°æ˜¯å¦â€œä¸æ˜¯æ•°å€¼â€ã€‚æµ®ç‚¹æ•°ç²¾åº¦17 ä½å°æ•°ï¼Œæ‰€ä»¥0.1 åŠ  0.2 çš„ç»“æœä¸æ˜¯ 0.3ï¼Œè€Œæ˜¯ 0.30000000000000004ã€‚(å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç²¾åº¦è®¡ç®—éƒ½æ˜¯è¿™æ ·)å› ä¸ºè¿™æ˜¯åŸºäº IEEE754 æ•°å€¼çš„æµ®ç‚¹è®¡ç®—çš„é€šç—… æ‰€ä»¥æˆ‘ä»¬ç”¨ç²¾åº¦ä¿æŒçš„æ–¹æ³•å»è¿›è¡Œè®¡ç®—

å‚è€ƒåšå®¢

https://github.com/camsong/blog/issues/9




2. æ•°å€¼èŒƒå›´

Number.MIN_VALUE
Number.MAX_VALUE
è¶…å‡ºä¼šè¢«è½¬æ¢æˆ Infinity æˆ– - Infinity 

3. NaN

```javascript
var a = NaN
var b = NaN
a == b // false

alert(isNaN(NaN));//true
alert(isNaN(10));//false(10 æ˜¯ä¸€ä¸ªæ•°å€¼) 
alert(isNaN("10"));//false(å¯ä»¥è¢«è½¬æ¢æˆæ•°å€¼ 10) 
alert(isNaN("blue"));//true(ä¸èƒ½è½¬æ¢æˆæ•°å€¼) 
alert(isNaN(true));//false(å¯ä»¥è¢«è½¬æ¢æˆæ•°å€¼ 1)
```


4. æ•°å€¼è½¬æ¢
    Number() å¯ä»¥ç”¨äºä»»ä½•æ•°æ®ç±»å‹ï¼Œ

  parseInt()parseFloat()ã€‚ç”¨äºæŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•°å€¼ã€‚

  Number()å‡½æ•°çš„è½¬æ¢è§„åˆ™å¦‚ä¸‹ã€‚
  å¦‚æœæ˜¯ Boolean å€¼ï¼Œtrue å’Œ false å°†åˆ†åˆ«è¢«è½¬æ¢ä¸º 1 å’Œ 0ã€‚ ï± å¦‚æœæ˜¯æ•°å­—å€¼ï¼Œåªæ˜¯ç®€å•çš„ä¼ å…¥å’Œè¿”å›ã€‚

  å¦‚æœæ˜¯ null å€¼ï¼Œè¿”å› 0ã€‚

  å¦‚æœæ˜¯ undefinedï¼Œè¿”å› NaNã€‚

  å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œéµå¾ªä¸‹åˆ—è§„åˆ™ğŸ‘‡

  å¦‚æœå­—ç¬¦ä¸²ä¸­åªåŒ…å«æ•°å­—(åŒ…æ‹¬å‰é¢å¸¦æ­£å·æˆ–è´Ÿå·çš„æƒ…å†µ)ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºåè¿›åˆ¶æ•°å€¼ï¼Œå³"1" ä¼šå˜1ï¼Œ"123"ä¼šå˜æˆ 123ï¼Œè€Œ"011"ä¼šå˜æˆ 11(æ³¨æ„:å‰å¯¼çš„é›¶è¢«å¿½ç•¥äº†);

  å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«æœ‰æ•ˆçš„æµ®ç‚¹æ ¼å¼ï¼Œå¦‚"1.1"ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºå¯¹åº”çš„æµ®ç‚¹æ•°å€¼(åŒæ ·ï¼Œä¹Ÿä¼šå¿½ ç•¥å‰å¯¼é›¶);

  å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«æœ‰æ•ˆçš„åå…­è¿›åˆ¶æ ¼å¼ï¼Œä¾‹å¦‚"0xf"ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºç›¸åŒå¤§å°çš„åè¿›åˆ¶æ•´ æ•°å€¼;

  å¦‚æœå­—ç¬¦ä¸²æ˜¯ç©ºçš„(ä¸åŒ…å«ä»»ä½•å­—ç¬¦)ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸º 0;

  å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«é™¤ä¸Šè¿°æ ¼å¼ä¹‹å¤–çš„å­—ç¬¦ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸º NaNã€‚

  å¦‚æœæ˜¯å¯¹è±¡ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„ valueOf()æ–¹æ³•ï¼Œç„¶åä¾ç…§å‰é¢çš„è§„åˆ™è½¬æ¢è¿”å›çš„å€¼ã€‚å¦‚æœè½¬æ¢çš„ç»“æœæ˜¯ NaNï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„ toString()æ–¹æ³•ï¼Œç„¶åå†æ¬¡ä¾ç…§å‰é¢çš„è§„åˆ™è½¬æ¢è¿”å›çš„å­—ç¬¦ä¸²å€¼ã€‚

```javascript
var num1 = Number("Hello world!"); //NaN
var num2 = Number(""); //0
var num3 = Number("000011"); //11 
var num4 = Number(true); //1

var num1 = parseInt("1234blue");// 1234
var num2 = parseInt("");// NaN
var num3 = parseInt("0xA");// 10(åå…­è¿›åˆ¶æ•°) 
var num4 = parseInt(22.5);// 22
var num5 = parseInt("070");// 56(å…«è¿›åˆ¶æ•°) 
var num6 = parseInt("70");// 70(åè¿›åˆ¶æ•°) 
var num7 = parseInt("0xf");// 15(åå…­è¿›åˆ¶æ•°)

var num1 = parseInt("10", 2);//2 (æŒ‰äºŒè¿›åˆ¶è§£æ)
var num2 = parseInt("10", 8); //8 (æŒ‰å…«è¿›åˆ¶è§£æ)
var num3 = parseInt("10", 10); //10(æŒ‰åè¿›åˆ¶è§£æ)
var num4 = parseInt("10", 16); //16(æŒ‰åå…­è¿›åˆ¶è§£æ)
```

## String

```javascript
var age = 11;
var ageAsString = age.toString(); // å­—ç¬¦ä¸²"11" 
var found = true;
var foundAsString = found.toString(); // å­—ç¬¦ä¸²"true"
var num = 10;
alert(num.toString());// "10"
alert(num.toString(2));// "1010"
alert(num.toString(8));// "12"
alert(num.toString(10));// "10"
alert(num.toString(16));// "a"

var value1 = 10;
var value2 = true;
var value3 = null;
var value4;
alert(String(value1));// "10"
alert(String(value2));// "true"
alert(String(value3));// "null"
alert(String(value4));// "undefined"

var result1 = ("55" == 55); //trueï¼Œå› ä¸ºè½¬æ¢åç›¸ç­‰
var result2 = ("55" === 55); //falseï¼Œå› ä¸ºä¸åŒçš„æ•°æ®ç±»å‹ä¸ç›¸ç­‰

å¯ä»¥çœ‹ä¸‹ 	!== å’Œ !===
```

# å˜é‡ã€ä½œç”¨åŸŸå’Œå†…å­˜é—®é¢˜

## åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„å€¼
åŸºæœ¬ç±»å‹å€¼æŒ‡çš„æ˜¯ç®€å•çš„æ•°æ®æ®µï¼Œè€Œå¼•ç”¨ç±»å‹å€¼æŒ‡é‚£äº›å¯èƒ½ç”±å¤šä¸ªå€¼æ„æˆçš„å¯¹è±¡ã€‚

åŸºæœ¬ç±»å‹çš„å€¼æœ‰

Undefinedã€Nullã€Booleanã€Number å’Œ Stringã€‚**åŸºæœ¬æ•°æ®ç±»å‹æ˜¯æŒ‰å€¼è®¿é—®çš„**

å¼•ç”¨ç±»å‹çš„å€¼æ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­çš„å¯¹è±¡ã€‚åœ¨æ“ä½œå¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šæ˜¯åœ¨æ“ä½œå¯¹è±¡çš„å¼•ç”¨è€Œä¸æ˜¯å®é™…çš„å¯¹è±¡ã€‚
**å¼•ç”¨ç±»å‹çš„å€¼æ˜¯æŒ‰å¼•ç”¨è®¿é—®çš„**ã€‚

- åŸºæœ¬ç±»å‹å€¼åœ¨å†…å­˜ä¸­å æ®å›ºå®šå¤§å°çš„ç©ºé—´ï¼Œå› æ­¤è¢«ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­; 
- å¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¯¹è±¡ï¼Œä¿å­˜åœ¨å †å†…å­˜ä¸­; 

#### ä¸ºä»€ä¹ˆä¼šå­˜åœ¨æ ˆå†…å­˜å’Œå †å†…å­˜ä¹‹åˆ†

å½“ä¸€ä¸ªæ–¹æ³•æ‰§è¡Œæ—¶ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½ä¼šå»ºç«‹è‡ªå·±çš„å†…å­˜æ ˆï¼Œåœ¨è¿™ä¸ªæ–¹æ³•å†…å®šä¹‰çš„å˜é‡å°†ä¼šé€ä¸ªæ”¾å…¥è¿™å—æ ˆå†…å­˜é‡Œï¼Œéšç€æ–¹æ³•çš„æ‰§è¡Œç»“æŸï¼Œè¿™ä¸ªæ–¹æ³•çš„å†…å­˜æ ˆä¹Ÿå°†è‡ªç„¶é”€æ¯äº†ã€‚å› æ­¤ï¼Œæ‰€æœ‰åœ¨æ–¹æ³•ä¸­å®šä¹‰çš„å˜é‡éƒ½æ˜¯æ”¾åœ¨æ ˆå†…å­˜ä¸­çš„ï¼›

å½“æˆ‘ä»¬åœ¨ç¨‹åºä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡å°†è¢«ä¿å­˜åˆ°è¿è¡Œæ—¶æ•°æ®åŒºä¸­ï¼Œä»¥ä¾¿åå¤åˆ©ç”¨ï¼ˆå› ä¸ºå¯¹è±¡çš„åˆ›å»ºæˆæœ¬é€šå¸¸è¾ƒå¤§ï¼‰ï¼Œè¿™ä¸ªè¿è¡Œæ—¶æ•°æ®åŒºå°±æ˜¯å †å†…å­˜ã€‚å †å†…å­˜ä¸­çš„å¯¹è±¡ä¸ä¼šéšæ–¹æ³•çš„ç»“æŸè€Œé”€æ¯ï¼Œå³ä½¿æ–¹æ³•ç»“æŸåï¼Œè¿™ä¸ªå¯¹è±¡è¿˜å¯èƒ½è¢«å¦ä¸€ä¸ªå¼•ç”¨å˜é‡æ‰€å¼•ç”¨ï¼ˆæ–¹æ³•çš„å‚æ•°ä¼ é€’æ—¶å¾ˆå¸¸è§ï¼‰ï¼Œåˆ™è¿™ä¸ªå¯¹è±¡ä¾ç„¶ä¸ä¼šè¢«é”€æ¯ï¼Œåªæœ‰å½“ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰ä»»ä½•å¼•ç”¨å˜é‡å¼•ç”¨å®ƒæ—¶ï¼Œç³»ç»Ÿçš„åƒåœ¾å›æ”¶æœºåˆ¶æ‰ä¼šåœ¨æ ¸å®çš„æ—¶å€™å›æ”¶å®ƒã€‚

#### æ ˆå †åŒºåˆ«

æ ˆä½¿ç”¨çš„æ˜¯ä¸€çº§ç¼“å­˜ï¼Œ ä»–ä»¬é€šå¸¸éƒ½æ˜¯è¢«è°ƒç”¨æ—¶å¤„äºå­˜å‚¨ç©ºé—´ä¸­ï¼Œè°ƒç”¨å®Œæ¯•ç«‹å³é‡Šæ”¾å †ï¼ˆæ“ä½œç³»ç»Ÿï¼‰ï¼š ä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œ è‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±OSå›æ”¶ï¼Œåˆ†é…æ–¹å¼å€’æ˜¯ç±»ä¼¼äºé“¾è¡¨ã€‚

å †åˆ™æ˜¯å­˜æ”¾åœ¨äºŒçº§ç¼“å­˜ä¸­ï¼Œç”Ÿå‘½å‘¨æœŸç”±è™šæ‹Ÿæœºçš„åƒåœ¾å›æ”¶ç®—æ³•æ¥å†³å®šï¼ˆå¹¶ä¸æ˜¯ä¸€æ—¦æˆä¸ºå­¤å„¿å¯¹è±¡å°±èƒ½è¢«å›æ”¶ï¼‰ã€‚æ‰€ä»¥è°ƒç”¨è¿™äº›å¯¹è±¡çš„é€Ÿåº¦è¦ç›¸å¯¹æ¥å¾—ä½ä¸€äº›
å †ï¼ˆæ•°æ®ç»“æ„ï¼‰ï¼šå †å¯ä»¥è¢«çœ‹æˆæ˜¯ä¸€æ£µæ ‘ï¼Œå¦‚ï¼šå †æ’åº
æ ˆï¼ˆæ•°æ®ç»“æ„ï¼‰ï¼šä¸€ç§åè¿›å…ˆå‡ºçš„çš„æ•°æ®ç»“æ„



æ ˆå†…å­˜æ˜¯Osåˆ†é…çš„

å †å†…å­˜æ˜¯è‡ªå·±æ‰‹åŠ¨ç”³è¯·çš„

ä¾‹å¦‚IOSå¼€å‘çš„çš„æ—¶å€™åˆ©ç”¨releaseé‡Šæ”¾å†…å­˜

> åœ¨MRCçš„å†…å­˜ç®¡ç†æ¨¡å¼ä¸‹ï¼Œä¸å¯¹å˜é‡çš„ç®¡ç†ç›¸å…³çš„æ–¹æ³•æœ‰ï¼šretain, release å’Œ autoreleaseã€‚retain å’Œ release æ–¹æ³•æ“ä½œçš„æ˜¯å¼•ç”¨è®°æ•°ï¼Œå½“å¼•ç”¨è®°æ•°ä¸ºé›¶æ—¶ï¼Œä¾¿è‡ªåŠ¨é‡Šæ”¾å†…å­˜ã€‚å¹¶ä¸”å¯ä»¥ç”¨ NSAutoreleasePool å¯¹è±¡ï¼Œå¯¹åŠ å…¥è‡ªåŠ¨é‡Šæ”¾æ± ï¼ˆautorelease è°ƒç”¨ï¼‰çš„å˜é‡è¿›è¡Œç®¡ç†ï¼Œå½“ drain æ—¶å›æ”¶å†…å­˜ã€‚



## å¤åˆ¶å˜é‡å€¼

```javascript
var num1 = 5;
var num2 = num1;
```

num1 å’Œ num 2æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸¤ä¸ªå˜é‡å¯ä»¥å‚ä¸ä»»ä½•æ“ä½œè€Œä¸ä¼šç›¸äº’å½±å“

å½“ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å¤åˆ¶å¼•ç”¨ç±»å‹çš„å€¼æ—¶ï¼ŒåŒæ ·ä¹Ÿä¼šå°†å­˜å‚¨åœ¨å˜é‡å¯¹è±¡ä¸­çš„å€¼å¤åˆ¶ä¸€ä»½æ”¾åˆ°
ä¸ºæ–°å˜é‡åˆ†é…çš„ç©ºé—´ä¸­ã€‚è¿™ä¸ªå€¼çš„å‰¯æœ¬å®é™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè€Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å­˜å‚¨åœ¨å †ä¸­çš„ä¸€ä¸ªå¯¹è±¡ã€‚

```javascript
 var obj1 = new Object();
 var obj2 = obj1;
 obj1.name = "Nicholas";
 alert(obj2.name);  //"Nicholas"
```

## ä¼ é€’å‚æ•°

Javascriptä¸­æ‰€æœ‰å‡½æ•°çš„å‚æ•°éƒ½æ˜¯æŒ‰å€¼ä¼ é€’çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠå‡½æ•°å¤–éƒ¨çš„å€¼å¤åˆ¶ç»™å‡½æ•°å†…éƒ¨çš„å‚æ•°ï¼Œå°±å’ŒæŠŠå€¼ä»ä¸€ä¸ªå˜é‡å¤åˆ¶åˆ°å¦ä¸€ä¸ªå˜é‡ä¸€æ ·ã€‚

**è®¿é—®å˜é‡æœ‰æŒ‰å€¼å’ŒæŒ‰å¼•ç”¨ä¸¤ç§æ–¹å¼ï¼Œè€Œå‚æ•°åªèƒ½æŒ‰å€¼ä¼ é€’ã€‚**

æ­¤å¤„å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯å¦‚æœ

```javascript
var a = 1;
var b = a;
console.log(a);
//æ­¤æ—¶ä»£ç æ˜¯åœ¨è¯»å–
//è€Œè¿™ä¸ªä»£ç 
function c(a){
    a = 777;
}
//æ­¤æ—¶ä»£ç åœ¨ä¼ å‚æ•°
//å¦‚æœä¸ç†è§£å¯ä»¥å‚è€ƒjsçš„getå’Œsetå‡½æ•°
```

å¦‚æœæ˜¯åŸºæœ¬ç±»å‹

```javascript
function addTen(num) {
    num += 10;
	return num; 
}
var count = 20;
var result = addTen(count);
alert(count); //20ï¼Œæ²¡æœ‰å˜åŒ– 
alert(result); //30
```

å¦‚æœæ˜¯ä¼ é€’å¯¹è±¡

```javascript
function setName(obj) { 
    obj.name = "Nicholas"; 
    obj = new Object(); 
    obj.name = "Greg";
}
var person = new Object();
setName(person);
alert(person.name);    //"Nicholas"
```

å¦‚æœ person æ˜¯æŒ‰å¼•ç”¨ä¼ é€’çš„ï¼Œé‚£ä¹ˆ person å°±ä¼šè‡ªåŠ¨è¢«ä¿®æ”¹ä¸ºæŒ‡å‘å…¶ name å±æ€§å€¼ä¸º"Greg"çš„æ–°å¯¹è±¡ã€‚ä½†æ˜¯ï¼Œå½“æ¥ä¸‹æ¥å†è®¿é—® person.name æ—¶ï¼Œæ˜¾ç¤ºçš„å€¼ä»ç„¶æ˜¯"Nicholas"ã€‚è¿™è¯´æ˜**å³ä½¿åœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹äº†å‚æ•°çš„å€¼ï¼Œä½†åŸå§‹çš„å¼•ç”¨ä»ç„¶ä¿æŒæœªå˜ã€‚**

## æ£€æµ‹ç±»å‹

instanceof  æ£€æµ‹å¼•ç”¨ç±»å‹çš„å€¼çš„æ—¶å€™å¾ˆå¥½ç”¨

```javascript
alert(person instanceof Object); // å˜é‡ person æ˜¯ Object å—? 
alert(colors instanceof Array); // å˜é‡ colors æ˜¯ Array å—? 
alert(pattern instanceof RegExp); //å˜é‡pattern æ˜¯RegExpå—?
```

ä½†æ˜¯ç¼ºç‚¹å¯èƒ½å­˜åœ¨ï¼Œæœ€å¥½çš„æ–¹æ³•å°±æ˜¯åœ¨é«˜çº§æŠ€å·§é‡Œçš„æ–¹æ³•



## æ‰§è¡Œç¯å¢ƒåŠä½œç”¨åŸŸ

**ä½œç”¨åŸŸé“¾çš„ç”¨é€”ï¼Œæ˜¯ä¿è¯å¯¹æ‰§è¡Œç¯å¢ƒæœ‰æƒè®¿é—®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ã€‚**

ä»¥ä¸‹è¯ä¸å¥½ç¿»è¯‘ï¼Œç›´æ¥çœ‹ä»£ç å°±è¡Œ

> æ¯ä¸ªæ‰§è¡Œç¯å¢ƒéƒ½æœ‰ä¸€ä¸ªä¸ä¹‹å…³è”çš„å˜é‡å¯¹è±¡(variable object)ï¼Œç¯å¢ƒä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°éƒ½ä¿å­˜åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ã€‚è™½ç„¶æˆ‘ä»¬ç¼–å†™çš„ä»£ç æ— æ³•è®¿é—®è¿™ä¸ªå¯¹è±¡ï¼Œä½†è§£æå™¨åœ¨å¤„ç†æ•°æ®æ—¶ä¼šåœ¨åå°ä½¿ç”¨å®ƒã€‚
>
> æ­¤å¤„å¯ä»¥æŸ¥çœ‹ç¼–è¯‘åŸç†(é¾™ä¹¦)
>
> æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ‰§è¡Œç¯å¢ƒã€‚å½“æ‰§è¡Œæµè¿›å…¥ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå‡½æ•°çš„ç¯å¢ƒå°±ä¼šè¢«æ¨å…¥ä¸€ä¸ªç¯å¢ƒæ ˆä¸­ã€‚è€Œåœ¨å‡½æ•°æ‰§è¡Œä¹‹åï¼Œæ ˆå°†å…¶ç¯å¢ƒå¼¹å‡ºï¼ŒæŠŠæ§åˆ¶æƒè¿”å›ç»™ä¹‹å‰çš„æ‰§è¡Œç¯å¢ƒã€‚ECMAScript ç¨‹åºä¸­çš„æ‰§è¡Œæµæ­£æ˜¯ç”±è¿™ä¸ªæ–¹ä¾¿çš„æœºåˆ¶æ§åˆ¶ç€ã€‚
>
> å½“ä»£ç åœ¨ä¸€ä¸ªç¯å¢ƒä¸­æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºå˜é‡å¯¹è±¡çš„ä¸€ä¸ªä½œç”¨åŸŸé“¾(scope chain)ã€‚ä½œç”¨åŸŸé“¾çš„å‰ç«¯ï¼Œå§‹ç»ˆéƒ½æ˜¯å½“å‰æ‰§è¡Œçš„ä»£ç æ‰€ åœ¨ç¯å¢ƒçš„å˜é‡å¯¹è±¡ã€‚å¦‚æœè¿™ä¸ªç¯å¢ƒæ˜¯å‡½æ•°ï¼Œåˆ™å°†å…¶æ´»åŠ¨å¯¹è±¡(activation object)ä½œä¸ºå˜é‡å¯¹è±¡ã€‚æ´»åŠ¨å¯¹ 6 è±¡åœ¨æœ€å¼€å§‹æ—¶åªåŒ…å«ä¸€ä¸ªå˜é‡ï¼Œå³ arguments å¯¹è±¡(è¿™ä¸ªå¯¹è±¡åœ¨å…¨å±€ç¯å¢ƒä¸­æ˜¯ä¸å­˜åœ¨çš„)ã€‚ä½œç”¨åŸŸé“¾ä¸­ çš„ä¸‹ä¸€ä¸ªå˜é‡å¯¹è±¡æ¥è‡ªåŒ…å«(å¤–éƒ¨)ç¯å¢ƒï¼Œè€Œå†ä¸‹ä¸€ä¸ªå˜é‡å¯¹è±¡åˆ™æ¥è‡ªä¸‹ä¸€ä¸ªåŒ…å«ç¯å¢ƒã€‚è¿™æ ·ï¼Œä¸€ç›´å»¶ ç»­åˆ°å…¨å±€æ‰§è¡Œç¯å¢ƒ;å…¨å±€æ‰§è¡Œç¯å¢ƒçš„å˜é‡å¯¹è±¡å§‹ç»ˆéƒ½æ˜¯ä½œç”¨åŸŸé“¾ä¸­çš„æœ€åä¸€ä¸ªå¯¹è±¡ã€‚ æ ‡è¯†ç¬¦è§£ææ˜¯æ²¿ç€ä½œç”¨åŸŸé“¾ä¸€çº§ä¸€çº§åœ°æœç´¢æ ‡è¯†ç¬¦çš„è¿‡ç¨‹ã€‚æœç´¢è¿‡ç¨‹å§‹ç»ˆä»ä½œç”¨åŸŸé“¾çš„å‰ç«¯å¼€å§‹ï¼Œ ç„¶åé€çº§åœ°å‘åå›æº¯ï¼Œç›´è‡³æ‰¾åˆ°æ ‡è¯†ç¬¦ä¸ºæ­¢(å¦‚æœæ‰¾ä¸åˆ°æ ‡è¯†ç¬¦ï¼Œé€šå¸¸ä¼šå¯¼è‡´é”™è¯¯å‘ç”Ÿ)ã€‚ 



```javascript
var çˆ·çˆ·é¢œè‰² = "blue";
    function çˆ¸çˆ¸(){
        var çˆ¸çˆ¸é¢œè‰² = "red";
        function å„¿å­(){
            var å„¿å­é¢œè‰² = "green"
			// è¿™é‡Œå¯ä»¥è®¿é—®çˆ·çˆ·é¢œè‰²ã€çˆ¸çˆ¸é¢œè‰²å’Œå„¿å­é¢œè‰² 
        }
		// è¿™é‡Œå¯ä»¥è®¿é—®çˆ·çˆ·é¢œè‰²å’Œçˆ¸çˆ¸é¢œè‰²ï¼Œä½†ä¸èƒ½è®¿é—®å„¿å­é¢œè‰²
        å„¿å­();
    }
// è¿™é‡Œåªèƒ½è®¿é—®çˆ·çˆ·é¢œè‰² 
çˆ¸çˆ¸();
```

ä»¥ä¸Šä»£ç å…±æ¶‰åŠ 3 ä¸ªæ‰§è¡Œç¯å¢ƒ:

å…¨å±€ç¯å¢ƒ(çˆ·çˆ·ç¯å¢ƒ)ã€çˆ¸çˆ¸()çš„å±€éƒ¨ç¯å¢ƒå’Œ å„¿å­()çš„å±€éƒ¨ç¯å¢ƒã€‚å…¨å±€ç¯å¢ƒä¸­æœ‰ä¸€ä¸ªå˜é‡çˆ·çˆ·é¢œè‰² å’Œä¸€ä¸ªå‡½æ•° çˆ¸çˆ¸()ã€‚çˆ¸çˆ¸()çš„å±€éƒ¨ç¯å¢ƒä¸­æœ‰ä¸€ä¸ªåä¸º çˆ¸çˆ¸é¢œè‰² çš„å˜é‡å’Œä¸€ä¸ªåä¸º å„¿å­()çš„å‡½æ•°ï¼Œä½†å®ƒä¹Ÿå¯ä»¥è®¿é—®å…¨å±€ç¯å¢ƒä¸­çš„å˜
é‡ çˆ·çˆ·é¢œè‰²ã€‚å„¿å­()çš„å±€éƒ¨ç¯å¢ƒä¸­æœ‰ä¸€ä¸ªå˜é‡ å„¿å­é¢œè‰²ï¼Œè¯¥å˜é‡åªèƒ½åœ¨è¿™ä¸ªç¯å¢ƒä¸­è®¿é—®åˆ°ã€‚æ— è®ºå…¨å±€ç¯å¢ƒ(çˆ·çˆ·ç¯å¢ƒ)è¿˜æ˜¯çˆ¸çˆ¸()çš„å±€éƒ¨ç¯å¢ƒéƒ½æ— æƒè®¿é—® å„¿å­é¢œè‰²ã€‚ç„¶è€Œï¼Œåœ¨ å„¿å­()å†…éƒ¨åˆ™å¯ä»¥è®¿é—®å…¶ä»–ä¸¤ä¸ªç¯å¢ƒä¸­çš„æ‰€æœ‰å˜é‡ï¼Œå› ä¸ºé‚£ä¸¤ä¸ªç¯å¢ƒæ˜¯å®ƒçš„çˆ¶æ‰§è¡Œç¯å¢ƒã€‚

å…¶ä¸­ï¼Œå†…éƒ¨ç¯å¢ƒå¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®æ‰€æœ‰çš„å¤–éƒ¨ç¯å¢ƒï¼Œä½†å¤–éƒ¨ç¯å¢ƒä¸èƒ½è®¿é—®å†…éƒ¨ç¯å¢ƒä¸­çš„ä»»ä½•å˜é‡å’Œå‡½æ•°ã€‚è¿™äº›ç¯å¢ƒä¹‹é—´çš„è”ç³»æ˜¯çº¿æ€§ã€æœ‰æ¬¡åºçš„ã€‚æ¯ä¸ªç¯å¢ƒéƒ½å¯ä»¥å‘ä¸Šæœç´¢ä½œç”¨åŸŸé“¾ï¼Œä»¥æŸ¥è¯¢å˜é‡å’Œå‡½æ•°å;ä½†ä»»ä½•ç¯å¢ƒéƒ½ä¸èƒ½é€šè¿‡å‘ä¸‹æœç´¢ä½œç”¨åŸŸé“¾è€Œè¿›å…¥å¦ä¸€ä¸ªæ‰§è¡Œç¯å¢ƒã€‚

çˆ·çˆ·åªçŸ¥é“è‡ªå·±çš„é¢œè‰²ï¼Œçˆ¸çˆ¸çŸ¥é“çˆ·çˆ·è‡ªå·±çš„å’Œçˆ¸çˆ¸è‡ªå·±çš„é¢œè‰²ï¼Œå„¿å­ä»€ä¹ˆéƒ½çŸ¥é“åŒ…æ‹¬è‡ªå·±çš„é¢œè‰²ã€‚

å…¶å®å¯ä»¥è¿™ä¹ˆç†è§£

å„¿å­=>çˆ¶äº²=>çˆ·çˆ· è¿™æ˜¯ä¸€ä¸ªå•é¡¹é“¾è¡¨ï¼Œå½“æˆ‘åœ¨æŸä¸ªä½ç½®è¯»å–å‡½æ•°æˆ–è€…æ˜¯å˜é‡æ—¶éƒ½ä¼šå…ˆè¯»åŒº head-> valï¼Œå½“ä¸å­˜åœ¨æ—¶ã€‚head= head -> next

> å‡½æ•°å‚æ•°ä¹Ÿè¢«å½“ä½œå˜é‡æ¥å¯¹å¾…ï¼Œå› æ­¤å…¶è®¿é—®è§„åˆ™ä¸æ‰§è¡Œç¯å¢ƒä¸­çš„å…¶ä»–å˜é‡ç›¸åŒ

### å»¶é•¿ä½œç”¨åŸŸé“¾

try- catchè¯­å¥

withè¯­å¥

### ES6ä¹‹å‰æ²¡æœ‰å—çº§ä½œç”¨åŸŸ

```javascript
if (true) {
   var color = "blue";
}
alert(color);    //"blue"

//è¿™é‡Œæ˜¯åœ¨ä¸€ä¸ªifè¯­å¥ä¸­å®šä¹‰äº†å˜é‡colorã€‚å¦‚æœæ˜¯åœ¨ Cã€C++æˆ– Java ä¸­ï¼Œcolor ä¼šåœ¨ if è¯­å¥æ‰§è¡Œå®Œæ¯•åè¢«
//é”€æ¯ã€‚ä½†åœ¨ JavaScript ä¸­ï¼Œif è¯­å¥ä¸­çš„å˜é‡å£°æ˜ä¼šå°†å˜é‡æ·»åŠ åˆ°å½“å‰çš„æ‰§è¡Œç¯å¢ƒ(åœ¨è¿™é‡Œæ˜¯å…¨å±€ç¯å¢ƒ)ä¸­ã€‚
```

#### å£°æ˜å˜é‡

ä½¿ç”¨ var å£°æ˜çš„å˜é‡ä¼šè‡ªåŠ¨è¢«æ·»åŠ åˆ°æœ€æ¥è¿‘çš„ç¯å¢ƒä¸­ã€‚å¦‚æœåˆå§‹åŒ–å˜é‡æ—¶æ²¡æœ‰ä½¿ç”¨ var å£°æ˜ï¼Œè¯¥å˜é‡ä¼šè‡ª
åŠ¨è¢«æ·»åŠ åˆ°å…¨å±€ç¯å¢ƒã€‚

```javascript
function add(num1, num2) {
    var sum = num1 + num2;
	return sum; 
}
var result = add(10, 20); //30
alert(sum); //ç”±äº sum ä¸æ˜¯æœ‰æ•ˆçš„å˜é‡ï¼Œå› æ­¤ä¼šå¯¼è‡´é”™è¯¯\


function add(num1, num2) {
    sum = num1 + num2;
	return sum; 
}
var result = add(10, 20); //30
alert(sum); //30
```

#### æŸ¥è¯¢æ ‡è¯†ç¬¦

>å½“åœ¨æŸä¸ªç¯å¢ƒä¸­ä¸ºäº†è¯»å–æˆ–å†™å…¥è€Œå¼•ç”¨ä¸€ä¸ªæ ‡è¯†ç¬¦æ—¶ï¼Œå¿…é¡»é€šè¿‡æœç´¢æ¥ç¡®å®šè¯¥æ ‡è¯†ç¬¦å®é™…ä»£è¡¨ä»€
>ä¹ˆã€‚æœç´¢è¿‡ç¨‹ä»ä½œç”¨åŸŸé“¾çš„å‰ç«¯å¼€å§‹ï¼Œå‘ä¸Šé€çº§æŸ¥è¯¢ä¸ç»™å®šåå­—åŒ¹é…çš„æ ‡è¯†ç¬¦ã€‚å¦‚æœåœ¨å±€éƒ¨ç¯å¢ƒä¸­æ‰¾åˆ°
>äº†è¯¥æ ‡è¯†ç¬¦ï¼Œæœç´¢è¿‡ç¨‹åœæ­¢ï¼Œå˜é‡å°±ç»ªã€‚å¦‚æœåœ¨å±€éƒ¨ç¯å¢ƒä¸­æ²¡æœ‰æ‰¾åˆ°è¯¥å˜é‡åï¼Œåˆ™ç»§ç»­æ²¿ä½œç”¨åŸŸé“¾å‘ä¸Š
>æœç´¢ã€‚æœç´¢è¿‡ç¨‹å°†ä¸€ç›´è¿½æº¯åˆ°å…¨å±€ç¯å¢ƒçš„å˜é‡å¯¹è±¡ã€‚å¦‚æœåœ¨å…¨å±€ç¯å¢ƒä¸­ä¹Ÿæ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªæ ‡è¯†ç¬¦ï¼Œåˆ™æ„å‘³
>ç€è¯¥å˜é‡å°šæœªå£°æ˜ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä¼šé¦–å…ˆæœç´¢æœ€è¿‘çš„åŒºåŸŸï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šå‘ä¸Šæœç´¢ç›´åˆ°æ‰¾åˆ°æ ‡è¯†ç¬¦ä¸ºæ­¢ã€‚

```javascript
var color = "blue";
function getColor(){
    return color;
}
alert(getColor());  //"blue"
```

å¦‚æœå±€éƒ¨ç¯å¢ƒä¸­å­˜åœ¨ç€åŒåæ ‡è¯†ç¬¦ï¼Œå°±ä¸ä¼šä½¿ç”¨ä½äºçˆ¶ç¯å¢ƒä¸­çš„æ ‡è¯†ç¬¦

```javascript
var color = "blue";
function getColor(){
    var color = "red";     
    return color;
}
alert(getColor());  //"red"
```

## åƒåœ¾æ”¶é›† 

æ­¤å¤„åƒåœ¾å›æ”¶å†™çš„ä¸å¥½ï¼Œæˆ‘åªåšæ‘˜æŠ„ï¼Œæ–°ç‰ˆæœ¬çš„GCå‚è€ƒNode.js

>æ ‡è®°æ¸…é™¤
> JavaScript ä¸­æœ€å¸¸ç”¨çš„åƒåœ¾æ”¶é›†æ–¹å¼æ˜¯æ ‡è®°æ¸…é™¤(mark-and-sweep)ã€‚å½“å˜é‡è¿›å…¥ç¯å¢ƒ(ä¾‹å¦‚ï¼Œåœ¨å‡½ æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡)æ—¶ï¼Œå°±å°†è¿™ä¸ªå˜é‡æ ‡è®°ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€ã€‚ä»é€»è¾‘ä¸Šè®²ï¼Œæ°¸è¿œä¸èƒ½é‡Šæ”¾è¿›å…¥ç¯å¢ƒçš„å˜ é‡æ‰€å ç”¨çš„å†…å­˜ï¼Œå› ä¸ºåªè¦æ‰§è¡Œæµè¿›å…¥ç›¸åº”çš„ç¯å¢ƒï¼Œå°±å¯èƒ½ä¼šç”¨åˆ°å®ƒä»¬ã€‚è€Œå½“å˜é‡ç¦»å¼€ç¯å¢ƒæ—¶ï¼Œåˆ™å°†å…¶ æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€ã€‚ 
>
>å¯ä»¥ä½¿ç”¨ä»»ä½•æ–¹å¼æ¥æ ‡è®°å˜é‡ã€‚æ¯”å¦‚ï¼Œå¯ä»¥é€šè¿‡ç¿»è½¬æŸä¸ªç‰¹æ®Šçš„ä½æ¥è®°å½•ä¸€ä¸ªå˜é‡ä½•æ—¶è¿›å…¥ç¯å¢ƒï¼Œ æˆ–è€…ä½¿ç”¨ä¸€ä¸ªâ€œè¿›å…¥ç¯å¢ƒçš„â€å˜é‡åˆ—è¡¨åŠä¸€ä¸ªâ€œç¦»å¼€ç¯å¢ƒçš„â€å˜é‡åˆ—è¡¨æ¥è·Ÿè¸ªå“ªä¸ªå˜é‡å‘ç”Ÿäº†å˜åŒ–ã€‚è¯´ åˆ°åº•ï¼Œå¦‚ä½•æ ‡è®°å˜é‡å…¶å®å¹¶ä¸é‡è¦ï¼Œå…³é”®åœ¨äºé‡‡å–ä»€ä¹ˆç­–ç•¥ã€‚ 
>
>åƒåœ¾æ”¶é›†å™¨åœ¨è¿è¡Œçš„æ—¶å€™ä¼šç»™å­˜å‚¨åœ¨å†…å­˜ä¸­çš„æ‰€æœ‰å˜é‡éƒ½åŠ ä¸Šæ ‡è®°(å½“ç„¶ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•æ ‡è®°æ–¹ å¼)ã€‚ç„¶åï¼Œå®ƒä¼šå»æ‰ç¯å¢ƒä¸­çš„å˜é‡ä»¥åŠè¢«ç¯å¢ƒä¸­çš„å˜é‡å¼•ç”¨çš„å˜é‡çš„æ ‡è®°ã€‚è€Œåœ¨æ­¤ä¹‹åå†è¢«åŠ ä¸Šæ ‡è®° çš„å˜é‡å°†è¢«è§†ä¸ºå‡†å¤‡åˆ é™¤çš„å˜é‡ï¼ŒåŸå› æ˜¯ç¯å¢ƒä¸­çš„å˜é‡å·²ç»æ— æ³•è®¿é—®åˆ°è¿™äº›å˜é‡äº†ã€‚æœ€åï¼Œåƒåœ¾æ”¶é›†å™¨ å®Œæˆå†…å­˜æ¸…é™¤å·¥ä½œï¼Œé”€æ¯é‚£äº›å¸¦æ ‡è®°çš„å€¼å¹¶å›æ”¶å®ƒä»¬æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚ 
>
>åˆ° 2008 å¹´ä¸ºæ­¢ï¼ŒIEã€Firefoxã€Operaã€Chrome å’Œ Safari çš„ JavaScript å®ç°ä½¿ç”¨çš„éƒ½æ˜¯æ ‡è®°æ¸…é™¤å¼çš„ åƒåœ¾æ”¶é›†ç­–ç•¥(æˆ–ç±»ä¼¼çš„ç­–ç•¥)ï¼Œåªä¸è¿‡åƒåœ¾æ”¶é›†çš„æ—¶é—´é—´éš”äº’æœ‰ä¸åŒã€‚ 







ç­‰ä¸‹æ•´ç†










# å¼•ç”¨ç±»å‹

## Object

åˆ›å»º Object å®ä¾‹çš„æ–¹å¼æœ‰ä¸¤ç§ã€‚

```javascript
// newæ“ä½œç¬¦åè·ŸObjectæ„é€ å‡½æ•°
var person = new Object();
person.name = "Nicholas";
person.age = 29;

//å­é¢é‡è¡¨ç¤ºæ³•
var person = {
    name : "Nicholas",
    age : 29
};
```

ä¸€èˆ¬æ¥è¯´ï¼Œè®¿é—®å¯¹è±¡å±æ€§æ—¶ä½¿ç”¨çš„éƒ½æ˜¯ç‚¹è¡¨ç¤ºæ³•ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šé¢å‘å¯¹è±¡è¯­è¨€ä¸­é€šç”¨çš„è¯­æ³•ã€‚ä¸è¿‡ï¼Œ åœ¨ JavaScript ä¹Ÿå¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•æ¥è®¿é—®å¯¹è±¡çš„å±æ€§ã€‚åœ¨ä½¿ç”¨æ–¹æ‹¬å·è¯­æ³•æ—¶ï¼Œåº”è¯¥å°†è¦è®¿é—®çš„å±æ€§ ä»¥å­—ç¬¦ä¸²çš„å½¢å¼æ”¾åœ¨æ–¹æ‹¬å·ä¸­ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºã€‚ 

```javascript
alert(person["name"]); //"Nicholas" 
alert(person.name); //"Nicholas" 
```

ä»åŠŸèƒ½ä¸Šçœ‹ï¼Œè¿™ä¸¤ç§è®¿é—®å¯¹è±¡å±æ€§çš„æ–¹æ³•æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚ä½†æ–¹æ‹¬å·è¯­æ³•çš„ä¸»è¦ä¼˜ç‚¹æ˜¯å¯ä»¥é€šè¿‡å˜é‡ æ¥è®¿é—®å±æ€§ï¼Œä¾‹å¦‚: 

```javascript
var propertyName = "name"; alert(person[propertyName]); //"Nicholas" 
```

åˆ›å»ºæ–¹å¼
var o = new Object();

### Objectå±æ€§å’Œæ–¹æ³•

Object çš„æ¯ä¸ªå®ä¾‹éƒ½å…·æœ‰ä¸‹åˆ—å±æ€§å’Œæ–¹æ³•ã€‚

##### constructor:

ä¿å­˜ç€ç”¨äºåˆ›å»ºå½“å‰å¯¹è±¡çš„å‡½æ•°ã€‚å¯¹äºå‰é¢çš„ä¾‹å­è€Œè¨€ï¼Œæ„é€ å‡½æ•°(constructor) å°±æ˜¯ Object()ã€‚

##### hasOwnProperty(propertyName):

ç”¨äºæ£€æŸ¥ç»™å®šçš„å±æ€§åœ¨å½“å‰å¯¹è±¡å®ä¾‹ä¸­(è€Œä¸æ˜¯åœ¨å®ä¾‹ çš„åŸå‹ä¸­)æ˜¯å¦å­˜åœ¨ã€‚å…¶ä¸­ï¼Œä½œä¸ºå‚æ•°çš„å±æ€§å(propertyName)å¿…é¡»ä»¥å­—ç¬¦ä¸²å½¢å¼æŒ‡å®š(ä¾‹ å¦‚:o.hasOwnProperty("name"))ã€‚

##### isPrototypeOf(object):

ç”¨äºæ£€æŸ¥ä¼ å…¥çš„å¯¹è±¡æ˜¯å¦æ˜¯ä¼ å…¥å¯¹è±¡çš„åŸå‹ã€‚

##### propertyIsEnumerable(propertyName):

ç”¨äºæ£€æŸ¥ç»™å®šçš„å±æ€§æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨ for-in è¯­å¥æ¥æšä¸¾ã€‚ä¸ hasOwnProperty()æ–¹æ³•ä¸€æ ·ï¼Œä½œä¸ºå‚æ•°çš„å±æ€§åå¿…é¡»ä»¥å­—ç¬¦ä¸²å½¢å¼æŒ‡å®šã€‚

##### toLocaleString():

è¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œè¯¥å­—ç¬¦ä¸²ä¸æ‰§è¡Œç¯å¢ƒçš„åœ°åŒºå¯¹åº”ã€‚

##### toString():

è¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚ ï±valueOf():è¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²ã€æ•°å€¼æˆ–å¸ƒå°”å€¼è¡¨ç¤ºã€‚é€šå¸¸ä¸ toString()æ–¹æ³•çš„è¿”å›å€¼
ç›¸åŒã€‚

##### valueOf()æ–¹æ³•

JavaScriptè°ƒç”¨valueOfæ–¹æ³•å°†å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹å€¼

```javascript
var str2 = new String("http://www.xyz.com");// newä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡

console.log( str2.valueOf() === str2 );   // false
// ä¸¤è€…çš„å€¼ç›¸ç­‰ï¼Œä½†ä¸å…¨ç­‰ï¼Œå› ä¸ºç±»å‹ä¸åŒï¼Œå‰è€…ä¸ºstringç±»å‹ï¼Œåè€…ä¸ºobjectç±»å‹
```

```javascript
var array = ["ABC", true, 12, -5];
console.log(array.valueOf() === array);   // true
// Arrayï¼šè¿”å›æ•°ç»„å¯¹è±¡æœ¬èº«
```



## 

## Array

### åˆ›å»ºæ•°ç»„

```javascript
åˆ›å»ºæ•°ç»„çš„åŸºæœ¬æ–¹å¼æœ‰ä¸¤ç§ã€‚ç¬¬ä¸€ç§æ˜¯ä½¿ç”¨ Array æ„é€ å‡½æ•°
var colors = new Array();
ç¬¬äºŒç§æ˜¯åé¢å†™æ•°å­—ï¼Œè¡¨ç¤ºåˆ›å»ºé•¿åº¦ä¸º20çš„æ•°ç»„
var colors = new Array(20);
ä¹Ÿå¯ä»¥å‘ Array æ„é€ å‡½æ•°ä¼ é€’æ•°ç»„ä¸­åº”è¯¥åŒ…å«çš„é¡¹
var colors = new Array("red", "blue", "green");
å¯ä»¥ç›´æ¥èµ‹å€¼ä¸ºæ•°ç»„å³å¯
var arr = []ï¼›
```

å…¶å®æˆ‘ä»¬ä¸å¿…çº ç»“åˆ›å»ºæ•°ç»„çš„æ–¹å¼ï¼Œç›®å‰çœ‹å¾ˆå¤šæºç éƒ½æ˜¯åˆ©ç”¨ var arr = []ï¼›æ–¹å¼è¿›è¡Œåˆ›å»ºçš„ï¼Œå°±å¯ä»¥äº†ã€‚

### æ£€æµ‹æ•°ç»„

å‰å‡ ç« æåˆ°è¿‡

```javascript
if(value instanceof Array){
	//å¯¹æ•°ç»„æ‰§è¡ŒæŸäº›æ“ä½œ
}

if(Array.isArray(value)){ 
    //å¯¹æ•°ç»„æ‰§è¡ŒæŸäº›æ“ä½œ
}
//æœ€å¼ºæ–¹æ³•
if(Object.prototype.toSting.call(value) == "[object Array]"){
	//å¯¹æ•°ç»„æ‰§è¡ŒæŸäº›æ“ä½œ
}
```

### è½¬æ¢æ–¹æ³•

```javascript
var colors = ["red", "blue", "green"]; // åˆ›å»ºä¸€ä¸ªåŒ…å« 3 ä¸ªå­—ç¬¦ä¸²çš„æ•°ç»„ 
alert(colors.toString());// red,blue,green
alert(colors.valueOf());// red,blue,green
alert(colors);// red,blue,green
```

#### joinæ–¹æ³•

```javascript
  var colors = ["red", "green", "blue"];
  alert(colors.join(","));       //red,green,blue
  alert(colors.join("||"));      //red||green||blue
```

### æ ˆæ–¹æ³•

```javascript
var colors = new Array();// åˆ›å»ºä¸€ä¸ªæ•°ç»„ 
var count = colors.push("red", "green"); // æ¨å…¥ä¸¤é¡¹ 
alert(count); //2 
count = colors.push("black");// æ¨å…¥å¦ä¸€é¡¹
alert(count);     //3
var item = colors.pop(); // å–å¾—æœ€åä¸€é¡¹ 
alert(item);      //"black"
alert(colors.length);   //2
```

### é˜Ÿåˆ—æ–¹æ³•



### è¿­ä»£æ–¹æ³•

every():å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹æ¯ä¸€é¡¹éƒ½è¿”å› trueï¼Œåˆ™è¿”å› trueã€‚
filter():å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›è¯¥å‡½æ•°ä¼šè¿”å› true çš„é¡¹ç»„æˆçš„æ•°ç»„ã€‚
forEach():å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ã€‚è¿™ä¸ªæ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚
map():å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œè¿”å›æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœç»„æˆçš„æ•°ç»„ã€‚
some():å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šå‡½æ•°ï¼Œå¦‚æœè¯¥å‡½æ•°å¯¹ä»»ä¸€é¡¹è¿”å› trueï¼Œåˆ™è¿”å› trueã€‚

### å½’å¹¶æ–¹æ³•



### æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹çš„å€¼

```javascript
var a = [1,2,3];
var b = a;
b.push(4);
a//[1, 2, 3, 4];
```



## Dateç±»å‹



æ·±æ‹·è´





## å•ä½“å†…ç½®å¯¹è±¡

Globalå¯¹è±¡
Global å¯¹è±¡çš„ encodeURI()å’Œ encodeURIComponent()æ–¹æ³•ï¼Œåœ¨æ±½è½¦ä¹‹å®¶çš„é¡¹ç›®ä¸­ç”¨åˆ°äº†è¿™ä¸ªæ–¹æ³•

Mathå¯¹è±¡
random()æ–¹æ³•

```javascript
function rand (){
  	i = (i * 3) % 101;
	return i;
} 
```

## RegExpç±»å‹(æ­£åˆ™)

å¦‚æœä½œä¸ºå¤ä¹ å¯ç•¥è¿‡æ‘˜è‡ªè€å§šçš„åšå®¢å¹¶åŠ ä¸Šç¬”è®°

https://zhuanlan.zhihu.com/p/29707385

PS:çº¢å®ä¹¦ä»‹ç»çš„ååˆ†æœ‰é™

### ä¸ºä»€ä¹ˆå•ç‹¬å¼€è¾Ÿæ­£åˆ™ï¼Ÿ

å› ä¸ºè¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œåœ¨å¾ˆå¤šæºç ä¸­æ­£åˆ™å‡ºç°é¢‘ç‡éå¸¸é«˜ï¼Œä¸æ˜¯æ¯ä¸ªæˆ‘è¦åŒ¹é…çš„æˆ–è€…æŸ¥è¯¢çš„å­—ç¬¦è¦å»æ‰‹å†™ï¼Œè€Œæ˜¯ç›´æ¥ä¸€è¡Œæ­£åˆ™å°±å¯ä»¥è§£å†³ï¼Œæ¯”å¦‚åœ¨ä½ è¾“å…¥å¯†ç çš„æ—¶å€™ï¼Œè¦æ±‚ä½ å¿…é¡»å¤§å°å†™å­—æ¯æˆ–æ•°å­—ï¼Œæ¯”å¦‚ä½ è¾“å…¥é‚®ç®±çš„æ—¶å€™ï¼Œæ¯”å¦‚æ‰‹æœºå·çš„åŒ¹é…ï¼Œå†æ¯”å¦‚åŒ¹é…æ›´å¤æ‚çš„(åŒ¹é…å¼€å¤´æ˜¯aç»“å°¾æ˜¯bçš„å­—ç¬¦)ï¼Œæ­£åˆ™è¡¨è¾¾å¼éƒ½è¦ä¼˜äº"æš´åŠ›"åŒ¹é…ï¼Œ

ä»‹ç»åœ¨å¼€å¤´







### å­—ç¬¦åŒ¹é…

#### æ¨¡ç³ŠåŒ¹é…

ç²¾ç¡®åŒ¹é…å¦‚ä¸‹

```javascript
var regex = /hello/;
console.log( regex.test("hello") );
// => true
```

ä½†æ˜¯æ­£åˆ™å¼ºå¤§ä¹‹å¤„åœ¨äºå¯ä»¥æ¨¡ç³ŠåŒ¹é…

##### æ¨ªå‘æ¨¡ç³ŠåŒ¹é…

æ¨ªå‘æ¨¡ç³ŠæŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªæ­£åˆ™å¯åŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦ä¸æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥æ˜¯å¤šç§æƒ…å†µçš„ã€‚ 

å…¶å®ç°çš„æ–¹å¼æ˜¯ä½¿ç”¨é‡è¯ã€‚è­¬å¦‚ {m,n}ï¼Œè¡¨ç¤ºè¿ç»­å‡ºç°æœ€å°‘ m æ¬¡ï¼Œæœ€å¤š n æ¬¡ã€‚æ¯”å¦‚æ­£åˆ™ /ab{2,5}c/ è¡¨ç¤ºåŒ¹é…è¿™æ ·ä¸€ä¸ªå­—ç¬¦ä¸²:ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ "a"ï¼Œæ¥ä¸‹æ¥æ˜¯ 2 åˆ° 5 ä¸ªå­—ç¬¦ "b"ï¼Œæœ€å æ˜¯å­—ç¬¦ "c"ã€‚ 

```javascript
  var regex = /ab{2,5}c/g;
  var string = "abc abbc abbbc abbbbc abbbbbc abbbbbbc abbbbbbbbbbbbbbbbc";
  console.log( string.match(regex) );
  // => ["abbc", "abbbc", "abbbbc", "abbbbbc"]

å¾ˆæ˜æ˜¾ abcä¸­çš„båªå‡ºç°ä¸€æ¬¡
```

matchçš„æ„æ€æ˜¯æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚

gçš„æ„æ€æ˜¯å…¨å±€åŒ¹é…ï¼Œå³åœ¨ç›®æ ‡å­—ç¬¦ä¸²ä¸­æŒ‰é¡ºåºæ‰¾åˆ°æ»¡è¶³åŒ¹é…æ¨¡å¼çš„æ‰€æœ‰å­ä¸²ï¼Œå¼ºè°ƒçš„æ˜¯â€œæ‰€æœ‰â€ï¼Œè€Œä¸åªæ˜¯â€œç¬¬ä¸€ä¸ªâ€ ã€‚g æ˜¯å•è¯ global çš„é¦–å­—æ¯ã€‚ 

##### çºµå‘æ¨¡ç³ŠåŒ¹é…

çºµå‘æ¨¡ç³ŠæŒ‡çš„æ˜¯ï¼Œä¸€ä¸ªæ­£åˆ™åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œå…·ä½“åˆ°æŸä¸€ä½å­—ç¬¦æ—¶ï¼Œå®ƒå¯ä»¥ä¸æ˜¯æŸä¸ªç¡®å®šçš„å­—ç¬¦ï¼Œå¯ä»¥æœ‰å¤šç§å¯èƒ½ã€‚ 

å…¶å®ç°çš„æ–¹å¼æ˜¯ä½¿ç”¨å­—ç¬¦ç»„ã€‚è­¬å¦‚ [abc]ï¼Œè¡¨ç¤ºè¯¥å­—ç¬¦æ˜¯å¯ä»¥å­—ç¬¦ "a"ã€"b"ã€"c" ä¸­çš„ä»»ä½•ä¸€ä¸ªã€‚ æ¯”å¦‚ /a[123]b/ å¯ä»¥åŒ¹é…å¦‚ä¸‹ä¸‰ç§å­—ç¬¦ä¸²: "a1b"ã€"a2b"ã€"a3b"ã€‚

```javascript
var regex = /a[123]b/g;
var string = "a0b a1b a2b a3b a4b acb a12b";
console.log( string.match(regex) );
// => ["a1b", "a2b", "a3b"]


var regex = /a[123][123]b/g;
var string = "a0b a1b a2b a3b a4b acb a12b";
console.log( string.match(regex) );
// => ["a1b", "a2b", "a3b"]
```

#### å­—ç¬¦ç»„

éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œè™½å«å­—ç¬¦ç»„(å­—ç¬¦ç±»)ï¼Œä½†åªæ˜¯å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ã€‚ ä¾‹å¦‚ [abc]ï¼Œè¡¨ç¤ºåŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œå®ƒå¯ä»¥æ˜¯ "a"ã€"b"ã€"c" ä¹‹ä¸€ã€‚ 

##### èŒƒå›´è¡¨ç¤ºæ³•

æ¯”å¦‚ [123456abcdefGHIJKLM]ï¼Œå¯ä»¥å†™æˆ [1-6a-fG-M]ã€‚ç”¨è¿å­—ç¬¦ - æ¥çœç•¥å’Œç®€å†™ã€‚

å› ä¸ºè¿å­—ç¬¦æœ‰ç‰¹æ®Šç”¨é€”ï¼Œé‚£ä¹ˆè¦åŒ¹é… "a"ã€"-"ã€"z" è¿™ä¸‰è€…ä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œè¯¥æ€ä¹ˆåšå‘¢?ä¸èƒ½å†™æˆ [a-z]ï¼Œå› ä¸ºå…¶è¡¨ç¤ºå°å†™å­—ç¬¦ä¸­çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦ã€‚å¯ä»¥å†™æˆå¦‚ä¸‹çš„æ–¹å¼:[-az] æˆ– [az-] æˆ– [a\\-z]ã€‚å³è¦ä¹ˆæ”¾åœ¨å¼€å¤´ï¼Œè¦ä¹ˆæ”¾åœ¨ç»“å°¾ï¼Œè¦ä¹ˆè½¬ä¹‰ã€‚æ€»ä¹‹ä¸ä¼šè®©å¼•æ“è®¤ä¸ºæ˜¯èŒƒå›´è¡¨ç¤ºæ³•å°±è¡Œäº†ã€‚

##### æ’é™¤å­—ç¬¦ç»„

çºµå‘æ¨¡ç³ŠåŒ¹é…ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å½¢å°±æ˜¯ï¼ŒæŸä½å­—ç¬¦å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼Œä½†å°±ä¸èƒ½æ˜¯ "a"ã€"b"ã€"c"ã€‚ æ­¤æ—¶å°±æ˜¯æ’é™¤å­—ç¬¦ç»„(åä¹‰å­—ç¬¦ç»„)çš„æ¦‚å¿µã€‚ä¾‹å¦‚ \[^abc]ï¼Œè¡¨ç¤ºæ˜¯ä¸€ä¸ªé™¤ "a"ã€"b"ã€"c"ä¹‹å¤–çš„ä»»æ„ä¸€ä¸ªå­— ç¬¦ã€‚å­—ç¬¦ç»„çš„ç¬¬ä¸€ä½æ”¾ ^(è„±å­—ç¬¦)ï¼Œè¡¨ç¤ºæ±‚åçš„æ¦‚å¿µã€‚ å½“ç„¶ï¼Œä¹Ÿæœ‰ç›¸åº”çš„èŒƒå›´è¡¨ç¤ºæ³•ã€‚ 

#### å¸¸è§çš„ç®€å†™å½¢å¼



| å­—ç¬¦ç»„ | å…·ä½“å«ä¹‰                                                     |
| ------ | ------------------------------------------------------------ |
| \d     | è¡¨ç¤º [0-9]ã€‚è¡¨ç¤ºæ˜¯ä¸€ä½æ•°å­—ã€‚ è®°å¿†æ–¹å¼:å…¶è‹±æ–‡æ˜¯ digit(æ•°å­—)ã€‚ |
| \D     | è¡¨ç¤º \[^0-9]ã€‚è¡¨ç¤ºé™¤æ•°å­—å¤–çš„ä»»æ„å­—ç¬¦ã€‚                       |
| \w     | è¡¨ç¤º [0-9a-zA-Z_]ã€‚è¡¨ç¤ºæ•°å­—ã€å¤§å°å†™å­—æ¯å’Œä¸‹åˆ’çº¿ã€‚è®°å¿†æ–¹å¼:w æ˜¯ word çš„ç®€å†™ï¼Œä¹Ÿç§°å•è¯å­—ç¬¦ã€‚ |
| \W     | è¡¨ç¤º \[^0-9a-zA-Z_]ã€‚éå•è¯å­—ç¬¦ã€‚                            |
| \s     | è¡¨ç¤º [ \t\v\n\r\f]ã€‚è¡¨ç¤ºç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€æ°´å¹³åˆ¶è¡¨ç¬¦ã€å‚ç›´åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ã€å›è½¦ç¬¦ã€æ¢é¡µ ç¬¦ã€‚  è®°å¿†æ–¹å¼:s æ˜¯ space çš„é¦–å­—æ¯ï¼Œç©ºç™½ç¬¦çš„å•è¯æ˜¯ white spaceã€‚ |
| \S     | è¡¨ç¤º \[^ \t\v\n\r\f]ã€‚ éç©ºç™½ç¬¦ã€‚                            |
| .      | è¡¨ç¤º \[^\n\r\u2028\u2029]ã€‚é€šé…ç¬¦ï¼Œè¡¨ç¤ºå‡ ä¹ä»»æ„å­—ç¬¦ã€‚æ¢è¡Œç¬¦ã€å›è½¦ç¬¦ã€è¡Œåˆ†éš”ç¬¦å’Œæ®µåˆ†éš”ç¬¦ é™¤å¤–ã€‚è®°å¿†æ–¹å¼:æƒ³æƒ³çœç•¥å· ... ä¸­çš„æ¯ä¸ªç‚¹ï¼Œéƒ½å¯ä»¥ç†è§£æˆå ä½ç¬¦ï¼Œè¡¨ç¤ºä»»ä½•ç±»ä¼¼çš„ä¸œè¥¿ã€‚ |

å¦‚æœåŒ¹é…ä»»æ„å­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ç§[\d\D]ã€[\w\W]ã€[\s\S] å’Œ [^] ä¸­ä»»ä½•çš„ä¸€ä¸ªã€‚

#### é‡è¯

##### ç®€å†™å½¢å¼

| é‡è¯ | å…·ä½“å«ä¹‰                                                     |
| ---- | ------------------------------------------------------------ |
| {m,} | è¡¨ç¤ºè‡³å°‘å‡ºç° m æ¬¡ã€‚                                          |
| {m}  | ç­‰ä»·äº {m,m}ï¼Œè¡¨ç¤ºå‡ºç° m æ¬¡ã€‚                                |
| ?    | ç­‰ä»·äº {0,1}ï¼Œè¡¨ç¤ºå‡ºç°æˆ–è€…ä¸å‡ºç°ã€‚ è®°å¿†æ–¹å¼:é—®å·çš„æ„æ€è¡¨ç¤ºï¼Œæœ‰å—? |
| +    | ç­‰ä»·äº {1,}ï¼Œè¡¨ç¤ºå‡ºç°è‡³å°‘ä¸€æ¬¡ã€‚ è®°å¿†æ–¹å¼:åŠ å·æ˜¯è¿½åŠ çš„æ„æ€ï¼Œå¾—å…ˆæœ‰ä¸€ä¸ªï¼Œç„¶åæ‰è€ƒè™‘è¿½åŠ ã€‚ |
| *    | ç­‰ä»·äº{0,}è¡¨ç¤ºå‡ºç°ä»»æ„æ¬¡ï¼Œæœ‰å¯èƒ½ä¸å‡ºç°ã€‚ è®°å¿†æ–¹å¼:çœ‹çœ‹å¤©ä¸Šçš„æ˜Ÿæ˜Ÿï¼Œå¯èƒ½ä¸€é¢—æ²¡æœ‰ï¼Œå¯èƒ½é›¶æ•£æœ‰å‡ é¢—ï¼Œå¯èƒ½æ•°ä¹Ÿæ•°ä¸è¿‡æ¥ã€‚ |

#### è´ªå©ªåŒ¹é…ä¸æƒ°æ€§åŒ¹é…

```javascript
var regex = /\d{2,5}/g;
var string = "123 1234 12345 123456 23456" ;
console.log( string.match(regex) );
// => ["123", "1234", "12345", "12345","23456"]
```

å…¶ä¸­æ­£åˆ™ /\d{2,5}/ï¼Œè¡¨ç¤ºæ•°å­—è¿ç»­å‡ºç° 2 åˆ° 5 æ¬¡ã€‚ä¼šåŒ¹é… 2 ä½ã€3 ä½ã€4 ä½ã€5 ä½è¿ç»­æ•°å­—ã€‚ ä½†æ˜¯å…¶æ˜¯è´ªå©ªçš„ï¼Œå®ƒä¼šå°½å¯èƒ½å¤šçš„åŒ¹é…ã€‚ä½ èƒ½ç»™æˆ‘ 6 ä¸ªï¼Œæˆ‘å°±è¦ 5 ä¸ªã€‚ä½ èƒ½ç»™æˆ‘ 3 ä¸ªï¼Œæˆ‘å°±è¦ 3 ä¸ªã€‚ 

åæ­£åªè¦åœ¨èƒ½åŠ›èŒƒå›´å†…ï¼Œè¶Šå¤šè¶Šå¥½ã€‚ æˆ‘ä»¬çŸ¥é“æœ‰æ—¶è´ªå©ªä¸æ˜¯ä¸€ä»¶å¥½äº‹(è¯·çœ‹æ–‡ç« æœ€åä¸€ä¸ªä¾‹å­)ã€‚è€Œæƒ°æ€§åŒ¹é…ï¼Œå°±æ˜¯å°½å¯èƒ½å°‘çš„åŒ¹é…: 

```javascript
  var regex = /\d{2,5}?/g;
  var string = "123 1234 12345 123456";
  console.log( string.match(regex) );
  // => ["12", "12", "34", "12", "34", "12", "34", "56"]
```

å…¶ä¸­ /\d{2,5}?/ è¡¨ç¤ºï¼Œè™½ç„¶ 2 åˆ° 5 æ¬¡éƒ½è¡Œï¼Œå½“ 2 ä¸ªå°±å¤Ÿçš„æ—¶å€™ï¼Œå°±ä¸å†å¾€ä¸‹å°è¯•äº†ã€‚ 

| æƒ°æ€§é‡è¯ | è´ªå©ªé‡è¯ |
| -------- | -------- |
| {m,n}?   | {m,n}    |
| {m,}?    | {m,}     |
| ??       | ?        |
| +?       | +        |
| *?       | *        |

#### å¤šé€‰åˆ†æ”¯

ä¸€ä¸ªæ¨¡å¼å¯ä»¥å®ç°æ¨ªå‘å’Œçºµå‘æ¨¡ç³ŠåŒ¹é…ã€‚è€Œå¤šé€‰åˆ†æ”¯å¯ä»¥æ”¯æŒå¤šä¸ªå­æ¨¡å¼ä»»é€‰å…¶ä¸€ã€‚ 

å…·ä½“å½¢å¼å¦‚ä¸‹:(p1|p2|p3)ï¼Œå…¶ä¸­ p1ã€p2 å’Œ p3 æ˜¯å­æ¨¡å¼ï¼Œç”¨ |(ç®¡é“ç¬¦)åˆ†éš”ï¼Œè¡¨ç¤ºå…¶ä¸­ä»»ä½•ä¹‹ä¸€ã€‚ ä¾‹å¦‚è¦åŒ¹é…å­—ç¬¦ä¸² "good" å’Œ "nice" å¯ä»¥ä½¿ç”¨ /good|nice/ã€‚

```javascript
 var regex = /good|nice/g;
 var string = "good idea, nice try.";
 console.log( string.match(regex) );
 // => ["good", "nice"]


 var regex = /a|b/g;
 var string = "good idea, nice try , agian, bus.";
 console.log( string.match(regex) );
 // => ["a", "b","a","b"]
```





/good|goodbye/ï¼Œå»åŒ¹é… "goodbye" å­—ç¬¦ä¸²æ—¶ï¼Œç»“æœæ˜¯ "good":

```javascript
var regex = /good|goodbye/g;
var string = "goodbye";
console.log( string.match(regex) );
// => ["good"]

var regex = /goodbye|good/g;
var string = "goodbye";
console.log( string.match(regex) );
// => ["goodbye"]
```

ä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ†æ”¯ç»“æ„ä¹Ÿæ˜¯**æƒ°æ€§çš„**ï¼Œå³å½“å‰é¢çš„åŒ¹é…ä¸Šäº†ï¼Œåé¢çš„å°±ä¸å†å°è¯•äº†ã€‚

#### æ¡ˆä¾‹åˆ†æ

> ```
> #ffbbad
> #Fc01DF
> #FFF
> #ffE
> 
> ```

è‡ªå·±å°è¯•å†™çš„

```javascript
var regex = /#[0-9a-fA-F]{6}|#[0-9a-fA-F]{3}/g
var string = "#ffbbad #Fc01DF #FFF #ffE #dasda ###";
console.log( string.match(regex) );


å’Œæ ‡å‡†ç­”æ¡ˆç›¸åŒğŸ˜„
```

åŒ¹é…æ—¶é—´

```javascript
è‡ªå·±å°è¯•å†™çš„
var regex = /[2][0-4]:[0-6][0-9]|[01][0-9]:[0-6][0-9]/g
var string = "23:59 02:07 21:38 15:43 27:21 20:71";
console.log( string.match(regex));


æ ‡å‡†ç­”æ¡ˆğŸ‘‡
var regex = /^([01][0-9]|[2][0-3]):[0-5][0-9]$/;
console.log( regex.test("23:59") );
console.log( regex.test("02:07") );


```

åŒ¹é…æ—¥æœŸ

yyyy-mm-dd

è¿™æ˜¯ä¸ªå‘ï¼Œæ²¡è€ƒè™‘åˆ°é—°å¹´å’Œå¹³å¹´ï¼Œå…ˆè¿™ä¹ˆå†™äº†

å‡è®¾æˆ‘åªèƒ½æ´»åˆ°2999å¹´

```javascript
var regex = /^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/;
console.log( regex.test("2017-06-10") );
```

window æ“ä½œç³»ç»Ÿæ–‡ä»¶è·¯å¾„

wtf

> F:\study\javascript\regex\regular expression.pdf
> F:\study\javascript\regex\
> F:\study\javascript
> F:\

```javascript
  var regex = /^[a-zA-Z]:\\([^\\:*<>|"?\r\n/]+\\)*([^\\:*<>|"?\r\n/]+)?$/;
  console.log( regex.test("F:\\study\\javascript\\regex\\regular expression.pdf") );
  console.log( regex.test("F:\\study\\javascript\\regex\\") );
  console.log( regex.test("F:\\study\\javascript") );
  console.log( regex.test("F:\\") );
  // => true
  // => true
  // => true
  // => true
```

åŒ¹é…divæ ‡ç­¾çš„id

è¦æ±‚ä» 

```html
  <div id="container" class="main"></div>
```

æå–å‡º id="container"ã€‚ å¯èƒ½æœ€å¼€å§‹æƒ³åˆ°çš„æ­£åˆ™æ˜¯: 

```javascript
  var regex = /id=".*"/
  var string = '<div id="container" class="main"></div>';
  console.log(string.match(regex)[0]);
  // => id="container" class="main"
```

å› ä¸º . æ˜¯é€šé…ç¬¦ï¼Œæœ¬èº«å°±åŒ¹é…åŒå¼•å·çš„ï¼Œè€Œé‡è¯ * åˆæ˜¯è´ªå©ªçš„ï¼Œå½“é‡åˆ° container åé¢åŒå¼•å·æ—¶ï¼Œæ˜¯ä¸ä¼š åœä¸‹æ¥ï¼Œä¼šç»§ç»­åŒ¹é…ï¼Œç›´åˆ°é‡åˆ°æœ€åä¸€ä¸ªåŒå¼•å·ä¸ºæ­¢ã€‚ 

è§£å†³ä¹‹é“ï¼Œå¯ä»¥ä½¿ç”¨æƒ°æ€§åŒ¹é…: 

```javascript
var regex = /id=".*?"/
var string = '<div id="container" class="main"></div>';
console.log(string.match(regex)[0]);
// => id="container"
```

å½“ç„¶ï¼Œè¿™æ ·ä¹Ÿä¼šæœ‰ä¸ªé—®é¢˜ã€‚æ•ˆç‡æ¯”è¾ƒä½ï¼Œå› ä¸ºå…¶åŒ¹é…åŸç†ä¼šæ¶‰åŠåˆ°â€œå›æº¯â€è¿™ä¸ªæ¦‚å¿µã€‚å¯ä»¥ä¼˜åŒ–å¦‚ä¸‹:

```javascript
 var regex = /id="[^"]*"/
 var string = '<div id="container" class="main"></div>';
 console.log(string.match(regex)[0]);
 // => id="container"
```

### ä½ç½®åŒ¹é…

åœ¨ ES5 ä¸­ï¼Œå…±æœ‰ 6 ä¸ªé”š:

^ã€$ã€\bã€\Bã€(?=p)ã€(?!p)

^(è„±å­—ç¬¦)åŒ¹é…å¼€å¤´ï¼Œåœ¨å¤šè¡ŒåŒ¹é…ä¸­åŒ¹é…è¡Œå¼€å¤´ã€‚ 

$(ç¾å…ƒç¬¦å·)åŒ¹é…ç»“å°¾ï¼Œåœ¨å¤šè¡ŒåŒ¹é…ä¸­åŒ¹é…è¡Œç»“å°¾ã€‚ 

æ¯”å¦‚

```javascript
var regex = /m&/g
var string = 'abcdefghijklmn';
 console.log(string.replace(regex,"#"));
```



### æ‹¬å·çš„ä½œç”¨ 

### å›æº¯æ³•åŸç† 

### æ‹†åˆ† 

### æ„å»º 

### ç¼–ç¨‹ 





## Function

### ç†è§£å‚æ•°

ECMAScriptå‡½æ•°ä¸ä»‹æ„ä¼ é€’è¿›æ¥å¤šå°‘ä¸ªå‚æ•°ï¼Œä¹Ÿä¸åœ¨ä¹ä¼ è¿›æ¥å‚æ•°æ˜¯ä»€ä¹ˆæ•°æ®ç±»å‹ã€‚å‡½æ•°ä½“å†…å¯ä»¥é€šè¿‡ arguments å¯¹è±¡æ¥è®¿é—®è¿™ä¸ªå‚æ•°æ•°ç»„ï¼Œä»è€Œè·å–ä¼ é€’ç»™å‡½æ•°çš„æ¯ä¸€ä¸ªå‚æ•°ã€‚

æ‰€ä»¥ä»¥ä¸‹ä¸¤ä¸ªå‡½æ•°æ˜¯ç›¸ç­‰çš„

```javascript
function sayHi(name, message) {
    alert("Hello " + name + "," + message);
}

function sayHi() {
    alert("Hello " + arguments[0] + "," + arguments[1]);
}
```

é€šè¿‡è®¿é—® arguments å¯¹è±¡çš„ length å±æ€§å¯ä»¥è·çŸ¥æœ‰å¤šå°‘ä¸ªå‚æ•°ä¼ é€’ç»™äº†å‡½æ•°ã€‚ä¸‹é¢è¿™ä¸ªå‡½æ•°ä¼š
åœ¨æ¯æ¬¡è¢«è°ƒç”¨æ—¶ï¼Œè¾“å‡ºä¼ å…¥å…¶ä¸­çš„å‚æ•°ä¸ªæ•°:

```javascript
 function howManyArgs() {
    alert(arguments.length);
}
howManyArgs("string", 45);  //2
howManyArgs();              //0
howManyArgs(12);            //1
```

 **argumentsçš„å€¼æ°¸è¿œä¸å¯¹åº”å‘½åå‚æ•°çš„å€¼ä¿æŒåŒæ­¥ã€‚** 

```javascript
function doAdd(num1, num2) {
    arguments[1] = 10;
    alert(arguments[0] + num2);
} 
```

æ¯æ¬¡æ‰§è¡Œè¿™ä¸ª doAdd()å‡½æ•°éƒ½ä¼šé‡å†™ç¬¬äºŒä¸ªå‚æ•°ï¼Œå°†ç¬¬äºŒä¸ªå‚æ•°çš„å€¼ä¿®æ”¹ä¸º 10ã€‚**å› ä¸º argumentså¯¹è±¡ä¸­çš„å€¼ä¼šè‡ªåŠ¨åæ˜ åˆ°å¯¹åº”çš„å‘½åå‚æ•°**ï¼Œæ‰€ä»¥ä¿®æ”¹ arguments[1]ï¼Œä¹Ÿå°±ä¿®æ”¹äº† num2ï¼Œç»“æœå®ƒä»¬çš„å€¼éƒ½ä¼šå˜æˆ 10ã€‚

**å®ƒä»¬çš„å†…å­˜ç©ºé—´æ˜¯ç‹¬ç«‹çš„ï¼Œä½†å®ƒä»¬çš„å€¼ä¼šåŒæ­¥**

> è¿™å¹¶ä¸æ˜¯è¯´è¯»å–è¿™ä¸¤ä¸ªå€¼ä¼šè®¿é—®ç›¸åŒçš„å†…å­˜ç©ºé—´ã€‚å¦å¤–è¿˜è¦è®°ä½ï¼Œå¦‚æœåªä¼ å…¥äº†ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆä¸º arguments[1]è®¾ç½®çš„å€¼ä¸ä¼šååº”åˆ°å‘½åå‚æ•°ä¸­ã€‚è¿™æ˜¯å› ä¸º arguments å¯¹è±¡çš„é•¿åº¦æ˜¯ç”±ä¼ å…¥çš„å‚æ•°ä¸ªæ•°å†³å®šçš„ï¼Œä¸æ˜¯ç”±å®šä¹‰å‡½æ•°æ—¶çš„å‘½åå‚æ•°çš„ä¸ªæ•°å†³å®šçš„ã€‚
>
> æ²¡æœ‰ä¼ é€’å€¼çš„å‘½åå‚æ•°å°†è‡ªåŠ¨è¢«èµ‹äºˆ undefined å€¼ã€‚è¿™å°±è·Ÿå®šä¹‰äº†å˜é‡ä½†åˆæ²¡æœ‰åˆå§‹åŒ–ä¸€æ ·ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåªç»™ doAdd()å‡½æ•°ä¼ é€’äº†ä¸€ä¸ªå‚æ•°ï¼Œåˆ™ num2 ä¸­å°±ä¼šä¿å­˜undefined å€¼ã€‚

**argumentséå†æ±‚å’Œ**

```javascript
function add() {
    var sum =0,
        len = arguments.length;
    for(var i=0; i<len; i++){
        sum += arguments[i];
    }
    return sum;
}
add()                           // 0
add(1)                          // 1
add(1,2,3,4);                   // 10
```

å½“éä¸¥æ ¼æ¨¡å¼ä¸­çš„å‡½æ•°**æœ‰**åŒ…å«å‰©ä½™å‚æ•°é»˜è®¤å‚æ•°å’Œè§£æ„èµ‹å€¼ï¼Œé‚£ä¹ˆ`arguments`å¯¹è±¡ä¸­çš„å€¼**ä¸ä¼š**è·Ÿè¸ªå‚æ•°çš„å€¼ï¼ˆåä¹‹äº¦ç„¶ï¼‰ã€‚ç›¸å, `arguments`åæ˜ äº†è°ƒç”¨æ—¶æä¾›çš„å‚æ•°ï¼š

```javascript
function func(a = 55) { 
  arguments[0] = 99; // updating arguments[0] does not also update a
  console.log(a);
}
func(10); // 10

function func(a = 55) { 
  a = 99; // updating a does not also update arguments[0]
  console.log(arguments[0]);
}
func(10); // 10

function func(a = 55) { 
  console.log(arguments[0]);
}
func(); // undefined
```

### åˆ›å»ºfunction

```javascript

//å‡½æ•°å£°æ˜
function sum (num1, num2) {
        return num1 + num2;
}
//è¿™ä¸ä¸‹é¢ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼å®šä¹‰å‡½æ•°çš„æ–¹å¼å‡ ä¹ç›¸å·®æ— å‡ ã€‚
// å‡½æ•°è¡¨è¾¾å¼
    var sum = function(num1, num2){
        return num1 + num2;
};

//ä½†æ˜¯åœ¨è§£æçš„æ—¶å€™å°±ä¼šå‘ç”ŸåŒºåˆ«ï¼Œ
//ä¸¾ä¸ªğŸŒ°
//æ­¤æ–¹æ³•æ²¡æœ‰é—®é¢˜
sum(1, 2)//3
function sum (num1, num2) {
        return num1 + num2;
}
//ä½†æ˜¯æ­¤æ–¹æ³•ä¼šæœ‰é—®é¢˜
sum(1, 2)//æŠ¥é”™
var sum = function(num1, num2){
        return num1 + num2;
};
```

**Function æ„é€ å‡½æ•°**å¯ä»¥æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œ ä½†æœ€åä¸€ä¸ªå‚æ•°å§‹ç»ˆéƒ½è¢«çœ‹æˆæ˜¯å‡½æ•°ä½“ï¼Œè€Œå‰é¢çš„å‚æ•°åˆ™æšä¸¾å‡ºäº†æ–°å‡½æ•°çš„å‚æ•°ã€‚æ¥çœ‹ä¸‹é¢çš„ä¾‹å­: 

var sum = new Function("num1", "num2", "return num1 + num2"); // ä¸æ¨è 

### ä½œä¸ºå€¼çš„å‡½æ•°

å› ä¸º ECMAScript ä¸­çš„å‡½æ•°åæœ¬èº«å°±æ˜¯å˜é‡ï¼Œæ‰€ä»¥å‡½æ•°ä¹Ÿå¯ä»¥ä½œä¸ºå€¼æ¥ä½¿ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä»…å¯ä»¥ åƒä¼ é€’å‚æ•°ä¸€æ ·æŠŠä¸€ä¸ªå‡½æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸”å¯ä»¥å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„ç»“æœè¿”å›ã€‚æ¥çœ‹ ä¸€çœ‹ä¸‹é¢çš„å‡½æ•°ã€‚

```javascript
function callFun(fun, fargu){
    return fun(fargu);
}
```

è¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ˜¯è¦ä¼ é€’ç»™è¯¥å‡½æ•°çš„ä¸€ä¸ªå€¼ã€‚
ç„¶åï¼Œå°±å¯ä»¥åƒä¸‹é¢çš„ä¾‹å­ä¸€æ ·ä¼ é€’å‡½æ•°äº†ã€‚

```javascript
function add10(num){
    return num + 10;
}

var result1 = callFun(add10, 10);
alert(result1);   //20

function getGreeting(name){
    return "Hello, " + name;
}

var result2 = callFun(getGreeting, 10);
alert(result2);   //"Hello,10"
```

å‡è®¾æœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæˆ‘ä»¬æƒ³è¦æ ¹æ®æŸä¸ªå¯¹è±¡å±æ€§å¯¹æ•°ç»„è¿›è¡Œæ’åºã€‚è€Œä¼ é€’ç»™æ•°ç»„ sort()æ–¹æ³•çš„æ¯”è¾ƒå‡½æ•°è¦æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œå³è¦æ¯”è¾ƒçš„å€¼ã€‚å¯æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹å¼æ¥æŒ‡æ˜æŒ‰ç…§å“ªä¸ªå±æ€§æ¥æ’åºã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥**å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå±æ€§åï¼Œç„¶åæ ¹æ®è¿™ä¸ªå±æ€§åæ¥åˆ›å»ºä¸€ä¸ªæ¯”è¾ƒå‡½æ•°**ï¼Œä¸‹é¢å°±æ˜¯è¿™ä¸ªå‡½æ•°çš„å®šä¹‰ã€‚

```javascript
function createComparisonFunction(propertyName) {
        return function(object1, object2){
            var value1 = object1[propertyName];
            var value2 = object2[propertyName];
            if (value1 < value2){
                return -1;
            } else if (value1 > value2){
                return 1;
			}
        };
}

data.sort(createComparisonFunction("name")); 8
var data = [{name: "Zachary", age: 28}, {name: "Nicholas", age: 29}];
alert(data[0].name);  //Nicholas
data.sort(createComparisonFunction("age"));
alert(data[0].name);  //Zachary
```

### å‡½æ•°å†…éƒ¨å±æ€§

arguments å’Œ this

æ–æ³¢é‚£å¥‘é‡å†™

#### arguments.callee

```javascript
function factorial(num){
        if (num <=1) {
            return 1;
        } else {
            return num * factorial(num-1)
        }
}
//ç›¸ç­‰

function factorial(num){
    if (num <=1) {
        return 1;
    } else {
        return num * arguments.callee(num-1)
} }

//åœ¨è¿™ä¸ªé‡å†™åçš„ factorial()å‡½æ•°çš„å‡½æ•°ä½“å†…ï¼Œæ²¡æœ‰å†å¼•ç”¨å‡½æ•°å factorialã€‚
//è¿™æ ·ï¼Œæ— è®ºå¼•ç”¨ å‡½æ•°æ—¶ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆåå­—ï¼Œéƒ½å¯ä»¥ä¿è¯æ­£å¸¸å®Œæˆé€’å½’è°ƒç”¨ã€‚ä¾‹å¦‚:

var trueFactorial = factorial;
factorial = function(){
       return 0;
};
    alert(trueFactorial(5));     //120
//å˜é‡ trueFactorial è·å¾—äº† factorial çš„å€¼ï¼Œå®é™…ä¸Šæ˜¯åœ¨å¦ä¸€ä¸ªä½ç½®ä¸Šä¿å­˜äº†ä¸€ä¸ªå‡½æ•° çš„æŒ‡é’ˆã€‚
//ç„¶åï¼Œæˆ‘ä»¬åˆå°†ä¸€ä¸ªç®€å•åœ°è¿”å› 0 çš„å‡½æ•°èµ‹å€¼ç»™ factorial å˜é‡ã€‚
//å¦‚æœåƒåŸæ¥çš„ factorial() é‚£æ ·ä¸ä½¿ç”¨ arguments.calleeï¼Œè°ƒç”¨ trueFactorial()å°±ä¼šè¿”å› 0ã€‚
//å¯æ˜¯ï¼Œåœ¨è§£é™¤äº†å‡½æ•°ä½“å†…çš„ä»£ ç ä¸å‡½æ•°åçš„è€¦åˆçŠ¶æ€ä¹‹åï¼ŒtrueFactorial()ä»ç„¶èƒ½å¤Ÿæ­£å¸¸åœ°è®¡ç®—é˜¶ä¹˜;
//è‡³äº factorial()ï¼Œå®ƒç° åœ¨åªæ˜¯ä¸€ä¸ªè¿”å› 0 çš„å‡½æ•°ã€‚
	alert(factorial(5));         //0
```

####  this

jsçº¢å®ä¹¦åœ¨è¿™é‡Œè§£é‡Šçš„æœ‰ç‚¹å°‘ï¼Œå‚è€ƒåšå®¢

https://juejin.im/post/596a28f6f265da6c360a2716

è¿™å¥è¯è¢«åå¤å¼ºè°ƒï¼Œå°±æ˜¯**this æ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶å‘ç”Ÿçš„ç»‘å®šï¼Œå®ƒæŒ‡å‘ä»€ä¹ˆå®Œå…¨å–å†³äºå‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ã€‚**

åœ¨ JavaScript ä¸­ï¼Œå½±å“ this æŒ‡å‘çš„ç»‘å®šè§„åˆ™æœ‰å››ç§ï¼š

- é»˜è®¤ç»‘å®š

- éšå¼ç»‘å®š

- æ˜¾å¼ç»‘å®š

- new ç»‘å®š

##### é»˜è®¤ç»‘å®š

è¿™æ˜¯æœ€ç›´æ¥çš„ä¸€ç§æ–¹å¼ï¼Œå°±æ˜¯ä¸åŠ ä»»ä½•çš„ä¿®é¥°ç¬¦ç›´æ¥è°ƒç”¨å‡½æ•°ï¼Œå¦‚ï¼š

```javascript
function foo() {
  console.log(this.a)   // è¾“å‡º a
}
var a = 2;  //  å˜é‡å£°æ˜åˆ°å…¨å±€å¯¹è±¡ä¸­
foo();
function aaa() {
    this.a = 4; 
    foo();// è¾“å‡º4
}
aaa();
```

å¤åˆ¶ä»£ç ä½¿ç”¨ var å£°æ˜çš„å˜é‡ aï¼Œè¢«ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ä¸­ï¼Œå¦‚æœæ˜¯æµè§ˆå™¨ï¼Œåˆ™æ˜¯åœ¨ window å¯¹è±¡ã€‚foo() è°ƒç”¨æ—¶ï¼Œå¼•ç”¨äº†é»˜è®¤ç»‘å®šï¼Œthis æŒ‡å‘äº†å…¨å±€å¯¹è±¡ã€‚

è¿™å…¶å®é€ æˆäº†ä¸€ä¸ªä¸å®‰å…¨çš„é—®é¢˜(åœ¨é«˜çº§æŠ€å·§é‡Œæåˆ°è¿‡)

##### éšå¼ç»‘å®š

è¿™ç§æƒ…å†µä¼šå‘ç”Ÿåœ¨è°ƒç”¨ä½ç½®å­˜åœ¨ã€Œ**ä¸Šä¸‹æ–‡å¯¹è±¡**ã€çš„æƒ…å†µï¼Œå¦‚ï¼š

```javascript
function foo() {
  console.log(this.a);
}

let obj1 = {
  a: 1,
  foo,
};

let obj2 = {
  a: 2,
  foo,
}

obj1.foo();   // è¾“å‡º 1
obj2.foo();   // è¾“å‡º 2
```

å½“**å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œæ‹¥æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡çš„æ—¶å€™ï¼Œ`this` ä¼šè¢«ç»‘å®šåˆ°è¯¥ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚**
æ­£å¦‚ä¸Šé¢çš„ä»£ç ï¼Œ
`obj1.foo()` è¢«è°ƒç”¨æ—¶ï¼Œ`this` ç»‘å®šåˆ°äº† `obj1`,
è€Œ `obj2.foo()` è¢«è°ƒç”¨æ—¶ï¼Œ`this` ç»‘å®šåˆ°äº† `obj2`ã€‚

##### æ˜¾å¼ç»‘å®š

è¿™ç§å°±æ˜¯ä½¿ç”¨ `Function.prototype` ä¸­çš„ä¸‰ä¸ªæ–¹æ³• `call()`, `apply()`, `bind()` äº†ã€‚
è¿™ä¸‰ä¸ªå‡½æ•°ï¼Œéƒ½å¯ä»¥æ”¹å˜å‡½æ•°çš„ `this` æŒ‡å‘åˆ°æŒ‡å®šçš„å¯¹è±¡ï¼Œ
ä¸åŒä¹‹å¤„åœ¨äºï¼Œ`call()` å’Œ `apply()` æ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œå¹¶ä¸”æ¥å—çš„å‚æ•°çš„å½¢å¼ä¸åŒï¼š

- call(this, arg1, arg2, ...)
- apply(this, [arg1, arg2, ...])

è€Œ `bind()` åˆ™æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„åŒ…è£…å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›ï¼Œè€Œä¸æ˜¯ç«‹åˆ»æ‰§è¡Œã€‚

- bind(this, arg1, arg2, ...)

`apply()` æ¥æ”¶å‚æ•°çš„å½¢å¼ï¼Œæœ‰åŠ©äºå‡½æ•°åµŒå¥—å‡½æ•°çš„æ—¶å€™ï¼ŒæŠŠ `arguments` å˜é‡ä¼ é€’åˆ°ä¸‹ä¸€å±‚å‡½æ•°ä¸­ã€‚

æ€è€ƒä¸‹é¢ä»£ç ï¼š

```javascript
function foo() {
  console.log(this.a);  // è¾“å‡º 1
  bar.apply({a: 2}, arguments);
}

function bar(b) {
  console.log(this.a + b);  // è¾“å‡º 5
}

var a = 1;
foo(3);
```

ä¸Šé¢ä»£ç ä¸­ï¼Œ `foo()` å†…éƒ¨çš„ `this` éµå¾ªé»˜è®¤ç»‘å®šè§„åˆ™ï¼Œç»‘å®šåˆ°å…¨å±€å˜é‡ä¸­ã€‚

è€Œ `bar()` åœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œè°ƒç”¨äº† `apply()` å‡½æ•°ï¼ŒæŠŠ `this` ç»‘å®šåˆ°äº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ä¸­ `{a: 2}`ï¼Œè€Œä¸”åŸå°ä¸åŠ¨çš„æ¥æ”¶ `foo()` æ¥æ”¶çš„å‡½æ•°ã€‚

##### new ç»‘å®š

æœ€åä¸€ç§ï¼Œåˆ™æ˜¯ä½¿ç”¨ `new` æ“ä½œç¬¦ä¼šäº§ç”Ÿ `this` çš„ç»‘å®šã€‚

åœ¨ç†è§£ `new` æ“ä½œç¬¦å¯¹ `this` çš„å½±å“ï¼Œé¦–å…ˆè¦ç†è§£ `new` çš„åŸç†ã€‚

åœ¨ JavaScript ä¸­ï¼Œ`new` æ“ä½œç¬¦å¹¶ä¸åƒå…¶ä»–é¢å‘å¯¹è±¡çš„è¯­è¨€ä¸€æ ·ï¼Œè€Œæ˜¯ä¸€ç§æ¨¡æ‹Ÿå‡ºæ¥çš„æœºåˆ¶ã€‚

åœ¨ JavaScript ä¸­ï¼Œæ‰€æœ‰çš„å‡½æ•°éƒ½å¯ä»¥è¢« `new` è°ƒç”¨ï¼Œè¿™æ—¶å€™è¿™ä¸ªå‡½æ•°ä¸€èˆ¬ä¼šè¢«ç§°ä¸ºã€Œæ„é€ å‡½æ•°ã€ï¼Œå®é™…ä¸Šå¹¶ä¸å­˜åœ¨æ‰€è°“ã€Œæ„é€ å‡½æ•°ã€ï¼Œæ›´ç¡®åˆ‡çš„ç†è§£åº”è¯¥æ˜¯å¯¹äºå‡½æ•°çš„ã€Œæ„é€ è°ƒç”¨ã€ã€‚

ä½¿ç”¨ `new` æ¥è°ƒç”¨å‡½æ•°ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢æ“ä½œï¼š

1. åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚
2. è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡Œ [[Prototype]] è¿æ¥ã€‚
3. è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„ thisã€‚
4. å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆ new è¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°å¯¹è±¡ã€‚

æ‰€ä»¥å¦‚æœ `new` æ˜¯ä¸€ä¸ªå‡½æ•°çš„è¯ï¼Œä¼šæ˜¯è¿™æ ·å­çš„ï¼š

```javascript
function New(Constructor, ...args){
    let obj = {};   // åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
    Object.setPrototypeOf(obj, Constructor.prototype);  // è¿æ¥æ–°å¯¹è±¡ä¸å‡½æ•°çš„åŸå‹
    return Constructor.apply(obj, args) || obj;   // æ‰§è¡Œå‡½æ•°ï¼Œæ”¹å˜ this æŒ‡å‘æ–°çš„å¯¹è±¡
}
function Foo(a){
    this.a = a;
}
New(Foo, 1);  // Foo { a: 1 }
```

æ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨ `new` æ¥è°ƒç”¨å‡½æ•°æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæ„é€ ä¸€ä¸ªæ–°å¯¹è±¡å¹¶æŠŠå®ƒç»‘å®šåˆ°å‡½æ•°è°ƒç”¨ä¸­çš„ `this` ä¸Šã€‚

ä¾‹å­

```javascript
Function.prototype.text = function(context) {
    console.log(this);
}

function a(){
    // dosomething
}

a.text();
//Æ’ a(){
//    // dosomething
//}
å…¶å®å¯ä»¥ç†è§£ä¸º

var a = new Function()ï¼›
åœ¨newçš„æ—¶å€™ï¼Œthisç»‘å®šç»‘å®šåˆ°äº†aå®ä¾‹ä¸Šã€‚
```

##### ä¼˜å…ˆçº§

å¦‚æœä¸€ä¸ªä½ç½®å‘ç”Ÿäº†å¤šæ¡æ”¹å˜ this çš„è§„åˆ™ï¼Œé‚£ä¹ˆä¼˜å…ˆçº§æ˜¯å¦‚ä½•çš„å‘¢ï¼Ÿ

çœ‹å‡ æ®µä»£ç ï¼š

```javascript
// æ˜¾å¼ç»‘å®š > éšå¼ç»‘å®š
function foo() {
    console.log(this.a);
}

let obj1 = {
    a: 2,
    foo,
}

obj1.foo();     // è¾“å‡º 2
obj1.foo.call({a: 1});      //è¾“å‡º 1 å¤åˆ¶ä»£ç 
```

è¿™è¯´æ˜ã€Œæ˜¾å¼ç»‘å®šã€çš„ä¼˜å…ˆçº§å¤§äºã€Œéšå¼ç»‘å®šã€

```javascript
// new ç»‘å®š > æ˜¾å¼ç»‘å®š
function foo(a) {
    this.a = a;
}

let obj1 = {};

let bar = foo.bind(obj1);
bar(2);
console.log(obj1); // è¾“å‡º {a:2}

let obj2 = new bar(3);
console.log(obj1); // è¾“å‡º {a:2}
console.log(obj2); // è¾“å‡º foo { a:3 } å¤åˆ¶ä»£ç 
```

### å‡½æ•°å±æ€§å’Œæ–¹æ³•

ECMAScript ä¸­çš„å‡½æ•°æ˜¯å¯¹è±¡ï¼Œå› æ­¤å‡½æ•°ä¹Ÿæœ‰å±æ€§å’Œæ–¹æ³•ã€‚æ¯ä¸ªå‡½æ•°éƒ½åŒ…å«ä¸¤ä¸ª å±æ€§:length å’Œ prototypeã€‚å…¶ä¸­ï¼Œlength å±æ€§è¡¨ç¤ºå‡½æ•°å¸Œæœ›æ¥æ”¶çš„å‘½åå‚æ•°çš„ä¸ªæ•°ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºã€‚

```javascript
function sayName(name){
    alert(name);
}
function sum(num1, num2){
    return num1 + num2;
}
function sayHi(){
    alert("hi");
}
alert(sayName.length);      //1
alert(sum.length);          //2
alert(sayHi.length);        //0
```

> ä»¥ä¸Šä»£ç å®šä¹‰äº† 3 ä¸ªå‡½æ•°ï¼Œä½†æ¯ä¸ªå‡½æ•°æ¥æ”¶çš„å‘½åå‚æ•°ä¸ªæ•°ä¸åŒã€‚é¦–å…ˆï¼ŒsayName()å‡½æ•°å®šä¹‰äº†ä¸€ä¸ªå‚æ•°ï¼Œå› æ­¤å…¶ length å±æ€§çš„å€¼ä¸º 1ã€‚ç±»ä¼¼åœ°ï¼Œsum()å‡½æ•°å®šä¹‰äº†ä¸¤ä¸ªå‚æ•°ï¼Œç»“æœå…¶ length å±æ€§ä¸­ä¿å­˜çš„å€¼ä¸º 2ã€‚è€Œ sayHi()æ²¡æœ‰å‘½åå‚æ•°ï¼Œæ‰€ä»¥å…¶ length å€¼ä¸º 0ã€‚

> å¯¹äº ECMAScript ä¸­çš„å¼•ç”¨ç±»å‹è€Œè¨€ï¼Œprototype æ˜¯ä¿å­˜å®ƒä»¬æ‰€æœ‰å®ä¾‹æ–¹æ³•çš„çœŸæ­£æ‰€åœ¨ã€‚æ¢å¥è¯è¯´ï¼ŒtoString()å’Œ valueOf()ç­‰æ–¹æ³•å®é™…ä¸Šéƒ½ä¿å­˜åœ¨ prototype åä¸‹ï¼Œåªä¸è¿‡æ˜¯é€šè¿‡å„è‡ªå¯¹è±¡çš„å®ä¾‹è®¿é—®ç½¢äº†ã€‚åœ¨åˆ›å»ºè‡ªå®šä¹‰å¼•ç”¨ç±»å‹ä»¥åŠå®ç°ç»§æ‰¿æ—¶ï¼Œprototype å±æ€§çš„ä½œç”¨æ˜¯æä¸ºé‡è¦çš„(ç¬¬ 6 ç« å°†è¯¦ ç»†ä»‹ç»)ã€‚åœ¨ ECMAScript 5 ä¸­ï¼Œprototype å±æ€§æ˜¯ä¸å¯æšä¸¾çš„ï¼Œå› æ­¤ä½¿ç”¨ for-in æ— æ³•å‘ç°ã€‚ 

#### Call å’Œ Apply

æ¯ä¸ªå‡½æ•°éƒ½åŒ…å«ä¸¤ä¸ªéç»§æ‰¿è€Œæ¥çš„æ–¹æ³•:apply()å’Œ call()ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•çš„ç”¨é€”éƒ½æ˜¯åœ¨ç‰¹å®šçš„ä½œç”¨åŸŸä¸­è°ƒç”¨å‡½æ•°ï¼Œå®é™…ä¸Šç­‰äºè®¾ç½®å‡½æ•°ä½“å†… this å¯¹è±¡çš„å€¼ã€‚é¦–å…ˆï¼Œapply()æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°:ä¸€ä¸ª æ˜¯åœ¨**å…¶ä¸­è¿è¡Œå‡½æ•°çš„ä½œç”¨åŸŸ**ï¼Œå¦ä¸€ä¸ªæ˜¯**å‚æ•°æ•°ç»„**ã€‚å…¶ä¸­ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ Array çš„å®ä¾‹ï¼Œä¹Ÿå¯ä»¥æ˜¯ arguments å¯¹è±¡ã€‚ä¾‹å¦‚: 

```javascript
function sum(num1, num2){
    return num1 + num2;
}
function callSum1(num1, num2){
    return sum.apply(this, arguments);
}
function callSum2(num1, num2){
    return sum.apply(this, [num1, num2]);
}
alert(callSum1(10,10));   //20
alert(callSum2(10,10));   //20
```

 apply()å’Œ call()çœŸæ­£å¼ºå¤§çš„åœ°æ–¹æ˜¯**èƒ½å¤Ÿæ‰©å……å‡½æ•°èµ–ä»¥è¿è¡Œçš„ä½œç”¨åŸŸ**ã€‚

```javascript
window.color = "red";
var o = { color: "blue" };
function sayColor(){
    alert(this.color);
} 
sayColor(); //red 
sayColor.call(this);//red
sayColor.call(window);//red
sayColor.call(o);//blue
```

è¿™ä¸ªä¾‹å­æ˜¯åœ¨å‰é¢è¯´æ˜ this å¯¹è±¡çš„ç¤ºä¾‹åŸºç¡€ä¸Šä¿®æ”¹è€Œæˆçš„ã€‚sayColor()æ˜¯ä½œä¸ºå…¨å±€å‡½æ•°å®šä¹‰çš„ï¼Œè€Œä¸”å½“åœ¨å…¨å±€ä½œç”¨åŸŸä¸­è°ƒç”¨å®ƒæ—¶ï¼Œå®ƒç¡®å®ä¼šæ˜¾ç¤º"red"â€”â€”å› ä¸ºå¯¹ this.color çš„æ±‚å€¼ä¼šè½¬æ¢æˆå¯¹ window.color çš„æ±‚å€¼ã€‚è€Œ sayColor.call(this)å’Œ sayColor.call(window)ï¼Œ**åˆ™æ˜¯ä¸¤ç§æ˜¾å¼åœ°åœ¨å…¨å±€ä½œç”¨åŸŸä¸­è°ƒç”¨å‡½æ•°çš„æ–¹å¼**ï¼Œç»“æœå½“ç„¶éƒ½ä¼šæ˜¾ç¤º"red"ã€‚ä½†æ˜¯ï¼Œå½“è¿è¡Œ sayColor.call(o) æ—¶ï¼Œå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒå°±å˜æˆ**æ˜¾ç¤ºç»‘å®š**äº†ï¼Œå› ä¸ºæ­¤æ—¶å‡½æ•°ä½“å†…çš„ this å¯¹è±¡æŒ‡å‘äº† oï¼Œäºæ˜¯ç»“æœæ˜¾ç¤ºçš„æ˜¯"blue"ã€‚ 

ä½¿ç”¨ call()(æˆ– apply())æ¥æ‰©å……ä½œç”¨åŸŸçš„æœ€å¤§å¥½å¤„ï¼Œå°±æ˜¯**å¯¹è±¡ä¸éœ€è¦ä¸æ–¹æ³•æœ‰ä»»ä½•è€¦åˆå…³ç³»**ã€‚ åœ¨å‰é¢ä¾‹å­çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬æ˜¯å…ˆå°† sayColor()å‡½æ•°æ”¾åˆ°äº†å¯¹è±¡ o ä¸­ï¼Œç„¶åå†é€šè¿‡ o æ¥è°ƒç”¨å®ƒçš„; è€Œåœ¨è¿™é‡Œé‡å†™çš„ä¾‹å­ä¸­ï¼Œå°±ä¸éœ€è¦å…ˆå‰é‚£ä¸ªå¤šä½™çš„æ­¥éª¤äº†ã€‚ 

#### bind()

bind()ã€‚è¿™ä¸ªæ–¹æ³•ä¼š**åˆ›å»ºä¸€ä¸ªå‡½æ•°çš„å®ä¾‹**ï¼Œå…¶thiså€¼ä¼šè¢«ç»‘å®šåˆ°ä¼ ç»™ bind()å‡½æ•°çš„å€¼ã€‚

```javascript
window.color = "red";
var o = { color: "blue" };
function sayColor(){
    alert(this.color);
}
var objectSayColor = sayColor.bind(o);
objectSayColor();    //blue



var foo = {
    value: 1
};
function bar() {
    console.log(this.value);
}
// è¿”å›äº†ä¸€ä¸ªå‡½æ•°
var bindFoo = bar.bind(foo); 
bindFoo(); // 1
```

åœ¨è¿™é‡Œï¼ŒsayColor()è°ƒç”¨ bind()å¹¶ä¼ å…¥å¯¹è±¡ oï¼Œåˆ›å»ºäº† objectSayColor()å‡½æ•°ã€‚object- SayColor()å‡½æ•°çš„ this å€¼ç­‰äº oï¼Œå› æ­¤å³ä½¿æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸­è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œä¹Ÿä¼šçœ‹åˆ°"blue"ã€‚



### æ‰‹å†™callï¼Œbindï¼Œapply

å‚è€ƒhttps://github.com/mqyqingfeng/Blog/

call æ‰‹å†™

```javascript
Function.prototype.call2 = function (context) {
    // å¦‚æœä¼ å€¼ä¸ºnullè‡ªåŠ¨ç»‘å®šåˆ°windowä¸Š,
    var context = context || window;
    
   	// è·å–åˆ°ç»‘å®šçš„å‡½æ•°ã€‚æ­¤æ—¶thisçš„æŒ‡å‘å‚è€ƒthisç« èŠ‚
    context.fn = this;
	
    //è·å–callåé¢ä¼ å…¥çš„æ‰€æœ‰å‚æ•°
    var args = [];
    for(var i = 1, len = arguments.length; i < len; i++) {
        args.push('arguments[' + i + ']');
    }
    
	//å°†å¾—åˆ°çš„å€¼ä½œä¸ºargumentsä¼ å…¥fné‡Œï¼Œåˆ©ç”¨evalå‡½æ•°æ‹¼æ¥jsä»£ç å­—ç¬¦ä¸²
    var result = eval('context.fn(' + args +')');
    
    delete context.fn
    return result;
}

// æµ‹è¯•ä¸€ä¸‹
var value = 2;

var obj = {
    value: 1
}

function bar(name, age) {
    console.log(this.value);
    return {
        value: this.value,
        name: name,
        age: age
    }
}

bar.call2(null); // 2

console.log(bar.call2(obj, 'kevin', 18));
// 1
// Object {
//    value: 1,
//    name: 'kevin',
//    age: 18
// }
```

applyçš„æ‰‹å†™

```javascript
Function.prototype.apply = function (context, arr) {
    var context = Object(context) || window;
    context.fn = this;

    var result;
    if (!arr) {
        result = context.fn();
    }
    else {
        var args = [];
        for (var i = 0, len = arr.length; i < len; i++) {
            args.push('arr[' + i + ']');
        }
        result = eval('context.fn(' + args + ')')
    }

    delete context.fn
    return result;
}
```

bindçš„æ‰‹å†™

```javascript
Function.prototype.bind2 = function (context) {
    //å¦‚æœä¸æ˜¯function é‚£ä¹ˆæˆ‘ä»¬å°±ä¼šæŠ¥é”™ï¼Œ
    if (typeof this !== "function") {
      throw new Error("Function.prototype.bind - what is trying to be bound is not callable");
    }
    
    var self = this;
    var args = Array.prototype.slice.call(arguments, 1);
    var fNOP = function () {};
    var fBound = function () {
        var bindArgs = Array.prototype.slice.call(arguments);
        return self.apply(this instanceof fNOP ? this : context, args.concat(bindArgs));
    }
    fNOP.prototype = this.prototype;
    fBound.prototype = new fNOP();
    return fBound;
}
```

### æ²¡æœ‰é‡è½½

```javascript
function addSomeNumber(num){
    return num + 100;
}
function addSomeNumber(num) {
    return num + 200;
}
var result = addSomeNumber(100); //300
//ç›¸å½“äº
var addSomeNumber = function (num){
    return num + 100;
};
addSomeNumber = function (num) { 
    return num + 200;
};
var result = addSomeNumber(100); //300
```

## è¡¥å……

#### URI ç¼–ç æ–¹æ³•

Global å¯¹è±¡çš„ encodeURI()å’Œ encodeURIComponent()æ–¹æ³•å¯ä»¥å¯¹ URIè¿›è¡Œç¼–ç ã€‚æœ‰æ•ˆçš„ URI ä¸­ä¸èƒ½åŒ…å«æŸäº›å­—ç¬¦ï¼Œä¾‹å¦‚ç©ºæ ¼å’Œæ±‰å­—ã€‚è€Œè¿™ä¸¤ä¸ª URI ç¼–ç æ–¹æ³•å°±å¯ä»¥å¯¹ URI è¿›è¡Œç¼–ç ï¼Œå®ƒä»¬ç”¨ç‰¹æ®Šçš„ UTF-8 ç¼–ç å»æ›¿æ¢æ‰€æœ‰æ— æ•ˆçš„å­—ç¬¦ã€‚

encodeURI()ä¸»è¦ç”¨äºæ•´ä¸ª URI(ä¾‹å¦‚ï¼Œhttp://www.wrox.com/illegal value.htm)ã€‚

encodeURIComponent()ä¸»è¦ç”¨äºå¯¹ URI ä¸­çš„æŸä¸€æ®µ(ä¾‹å¦‚å‰é¢ URI ä¸­çš„ illegal value.htm)è¿›è¡Œç¼–ç ã€‚

å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼ŒencodeURI()ä¸ä¼šå¯¹æœ¬èº«å±äº URI çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œç¼–ç ï¼Œä¾‹å¦‚å†’å·ã€æ­£æ–œæ ã€
é—®å·å’Œäº•å­—å·;è€Œ encodeURIComponent()åˆ™ä¼šå¯¹å®ƒå‘ç°çš„ä»»ä½•éæ ‡å‡†å­—ç¬¦è¿›è¡Œç¼–ç 

decodeURI()åªèƒ½å¯¹ä½¿ç”¨ encodeURI()æ›¿æ¢çš„å­—ç¬¦è¿›è¡Œè§£ç ã€‚
å®ƒå¯å°†%20 æ›¿æ¢æˆä¸€ä¸ªç©ºæ ¼ï¼Œä½†ä¸ä¼šå¯¹%23 ä½œä»»ä½•å¤„ç†ï¼Œå› ä¸º%23 è¡¨ç¤ºäº•å­—å·(#)ï¼Œè€Œäº•å­—å·ä¸æ˜¯ä½¿ç”¨
encodeURI()æ›¿æ¢çš„ã€‚

decodeURIComponent()èƒ½å¤Ÿè§£ç ä½¿ç”¨ encodeURIComponent()ç¼–ç çš„æ‰€æœ‰å­—ç¬¦

#### eval()æ–¹æ³•

```javascript
eval("alert('hi')");
//è¿™è¡Œä»£ç çš„ä½œç”¨ç­‰ä»·äºä¸‹é¢è¿™è¡Œä»£ç :
alert("hi");
```

å½“è§£æå™¨å‘ç°ä»£ç ä¸­è°ƒç”¨ eval()æ–¹æ³•æ—¶ï¼Œå®ƒä¼šå°†ä¼ å…¥çš„å‚æ•°ä»£ç è§£æï¼Œ ç„¶åæŠŠæ‰§è¡Œç»“æœæ’å…¥åˆ°åŸä½ç½®ã€‚é€šè¿‡ eval()æ‰§è¡Œçš„ä»£ç è¢«è®¤ä¸ºæ˜¯åŒ…å«è¯¥æ¬¡è°ƒç”¨çš„æ‰§è¡Œç¯å¢ƒçš„ä¸€éƒ¨åˆ†ï¼Œ å› æ­¤è¢«æ‰§è¡Œçš„ä»£ç å…·æœ‰ä¸è¯¥æ‰§è¡Œç¯å¢ƒç›¸åŒçš„ä½œç”¨åŸŸé“¾ã€‚è¿™æ„å‘³ç€é€šè¿‡ eval()æ‰§è¡Œçš„ä»£ç å¯ä»¥å¼•ç”¨åœ¨åŒ… å«ç¯å¢ƒä¸­å®šä¹‰çš„å˜é‡ï¼Œä¸¾ä¸ªä¾‹å­: 

```javascript
var msg = "hello world";
eval("alert(msg)");    //"hello world"
```

å¯è§ï¼Œå˜é‡ msg æ˜¯åœ¨ eval()è°ƒç”¨çš„ç¯å¢ƒä¹‹å¤–å®šä¹‰çš„ï¼Œä½†å…¶ä¸­è°ƒç”¨çš„ alert()ä»ç„¶èƒ½å¤Ÿæ˜¾ç¤º"hello world"ã€‚è¿™æ˜¯å› ä¸ºä¸Šé¢ç¬¬äºŒè¡Œä»£ç æœ€ç»ˆè¢«æ›¿æ¢æˆäº†ä¸€è¡ŒçœŸæ­£çš„ä»£ç ã€‚åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ eval() è°ƒç”¨ä¸­å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åå†åœ¨è¯¥è°ƒç”¨çš„å¤–éƒ¨ä»£ç ä¸­å¼•ç”¨è¿™ä¸ªå‡½æ•°: 

```javascript
eval("function sayHi() { alert('hi'); }");
sayHi();
```

æ˜¾ç„¶ï¼Œå‡½æ•° sayHi()æ˜¯åœ¨ eval()å†…éƒ¨å®šä¹‰çš„ã€‚ä½†ç”±äºå¯¹ eval()çš„è°ƒç”¨æœ€ç»ˆä¼šè¢«æ›¿æ¢æˆå®šä¹‰å‡½æ•° çš„å®é™…ä»£ç ï¼Œå› æ­¤å¯ä»¥åœ¨ä¸‹ä¸€è¡Œè°ƒç”¨ sayHi()ã€‚å¯¹äºå˜é‡ä¹Ÿä¸€æ ·: 

```javascript
eval("var msg = 'hello world'; ");
alert(msg);     //"hello world"
```

åœ¨ eval()ä¸­åˆ›å»ºçš„ä»»ä½•å˜é‡æˆ–å‡½æ•°éƒ½ä¸ä¼šè¢«æå‡ï¼Œå› ä¸ºåœ¨è§£æä»£ç çš„æ—¶å€™ï¼Œå®ƒä»¬è¢«åŒ…å«åœ¨ä¸€ä¸ªå­— ç¬¦ä¸²ä¸­;å®ƒä»¬åªåœ¨ eval()æ‰§è¡Œçš„æ—¶å€™åˆ›å»ºã€‚

ä¸¥æ ¼æ¨¡å¼ä¸‹æ— æ³•ä½¿ç”¨eval()

# é¢å‘å¯¹è±¡

## ç†è§£å¯¹è±¡

```javascript
 var person = new Object();
    person.name = "Nicholas";
    person.age = 29;
    person.job = "Software Engineer";
    person.sayName = function(){
        alert(this.name);
 }; 

var person = {
    name: "Nicholas",
    age: 29,
    job: "Software Engineer",
    sayName: function(){
    	alert(this.name);
	} 
};
```

### å±æ€§ç±»å‹

#### æ•°æ®å±æ€§

[[Configurable]]:è¡¨ç¤ºèƒ½å¦é€šè¿‡ **delete åˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§ï¼Œèƒ½å¦ä¿®æ”¹å±æ€§çš„ç‰¹æ€§ï¼Œæˆ–è€…èƒ½å¦æŠŠå±æ€§ä¿®æ”¹ä¸ºè®¿é—®å™¨å±æ€§**ã€‚åƒå‰é¢ä¾‹å­ä¸­é‚£æ ·ç›´æ¥åœ¨å¯¹è±¡ä¸Šå®šä¹‰çš„å±æ€§ï¼Œé»˜è®¤å€¼ä¸º trueã€‚ 

[[Enumerable]]:è¡¨ç¤ºèƒ½å¦é€šè¿‡ **for-in å¾ªç¯è¿”å›å±æ€§**ã€‚åƒå‰é¢ä¾‹å­ä¸­é‚£æ ·ç›´æ¥åœ¨å¯¹è±¡ä¸Šå®š ä¹‰çš„å±æ€§ï¼Œå®ƒä»¬çš„è¿™ä¸ªç‰¹æ€§é»˜è®¤å€¼ä¸º trueã€‚

 [[Writable]]:è¡¨ç¤º**èƒ½å¦ä¿®æ”¹å±æ€§çš„å€¼**ã€‚åƒå‰é¢ä¾‹å­ä¸­é‚£æ ·ç›´æ¥åœ¨å¯¹è±¡ä¸Šå®šä¹‰çš„å±æ€§ï¼Œå®ƒä»¬çš„è¿™ä¸ªç‰¹æ€§é»˜è®¤å€¼ä¸º trueã€‚

 [[Value]]:åŒ…å«è¿™ä¸ªå±æ€§çš„æ•°æ®å€¼ã€‚è¯»å–å±æ€§å€¼çš„æ—¶å€™ï¼Œä»è¿™ä¸ªä½ç½®è¯»;å†™å…¥å±æ€§å€¼çš„æ—¶å€™ï¼Œ æŠŠæ–°å€¼ä¿å­˜åœ¨è¿™ä¸ªä½ç½®ã€‚è¿™ä¸ªç‰¹æ€§çš„é»˜è®¤å€¼ä¸º undefinedã€‚ 

ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒConfigurableï¼ŒEnumerableï¼ŒWritableå±æ€§éƒ½æ˜¯true.å½“æˆ‘ä»¬æ”¹å†™ä»»ä½•ä¸€ä¸ªå€¼çš„æ—¶å€™ï¼Œéƒ½ä¼šæ›´æ”¹valueå€¼

```javascript
var person = {};
Object.defineProperty(person, "name", {
    writable: false,
    value: "Nicholas"
});
alert(person.name); //"Nicholas" 
person.name = "Greg";
console.log(person.name); //"Nicholas"

var person = {};
Object.defineProperty(person, "name", {
    configurable: false,
    value: "Nicholas"
});
console.log(person.name); //"Nicholas" 
delete person.name; 
console.log(person.name); //"Nicholas"
```

> æŠŠ configurable è®¾ç½®ä¸º falseï¼Œè¡¨ç¤ºä¸èƒ½ä»å¯¹è±¡ä¸­åˆ é™¤å±æ€§ã€‚å¦‚æœå¯¹è¿™ä¸ªå±æ€§è°ƒç”¨ deleteï¼Œåˆ™åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ä»€ä¹ˆä¹Ÿä¸ä¼šå‘ç”Ÿï¼Œè€Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šå¯¼è‡´é”™è¯¯ã€‚è€Œä¸”ï¼Œä¸€æ—¦æŠŠå±æ€§å®šä¹‰ä¸ºä¸å¯é…ç½®çš„ï¼Œå°±ä¸èƒ½å†æŠŠå®ƒå˜å›å¯é…ç½®äº†ã€‚æ­¤æ—¶ï¼Œå†è°ƒç”¨ Object.defineProperty()æ–¹æ³•ä¿®æ”¹é™¤ writable ä¹‹å¤–çš„ç‰¹æ€§ï¼Œéƒ½ä¼šå¯¼è‡´é”™è¯¯:

```javascript
var person = {};
Object.defineProperty(person, "name", {
    configurable: false,
    value: "Nicholas"
});
//æŠ›å‡ºé”™è¯¯
Object.defineProperty(person, "name", {
    configurable: true,
    value: "Nicholas"
});

//æ­¤æ–¹æ³•ä¹Ÿæ˜¯vueå’Œreactçš„æ ¸å¿ƒæ–¹æ³•ã€‚
```

#### è®¿é—®å™¨å±æ€§

é™¤äº†æ•°æ®å±æ€§çš„[[Configurable]]å’Œ[[Enumerable]] è¿˜åŒ…æ‹¬Getå’ŒSet

[[Get]]:åœ¨**è¯»å–**å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚é»˜è®¤å€¼ä¸º undefinedã€‚ 

[[Set]]:åœ¨**å†™å…¥**å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚é»˜è®¤å€¼ä¸º undefinedã€‚ 

å®šä¹‰å¤šä¸ªå±æ€§åˆ™é‡‡ç”¨Object.defineProperties()æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡å®šä¹‰å¤šä¸ªå±æ€§ã€‚

åˆ©ç”¨ Object.getOwnPropertyDescriptor()æ–¹æ³•è¿˜å¯ä»¥è¯»å–å±æ€§

var descriptor = Object.getOwnPropertyDescriptor(book, "year");

descriptor.value  //2004

descriptor.configurable) //true

### æ‰‹å†™new







## æ·±æµ…æ‹·è´

é‚£å¦‚ä½•æ·±æ‹·è´ä¸€ä¸ªæ•°ç»„å‘¢ï¼Ÿè¿™é‡Œä»‹ç»ä¸€ä¸ªæŠ€å·§ï¼Œä¸ä»…é€‚ç”¨äºæ•°ç»„è¿˜é€‚ç”¨äºå¯¹è±¡ï¼é‚£å°±æ˜¯ï¼š

### æ·±æ‹·è´

```javascript
var arr = ['old', 1, true, ['old1', 'old2'], {old: 1}]

var new_arr = JSON.parse( JSON.stringify(arr) );

console.log(new_arr);
```

æ˜¯ä¸€ä¸ªç®€å•ç²—æš´çš„å¥½æ–¹æ³•ï¼Œå°±æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸èƒ½æ‹·è´å‡½æ•°ï¼Œæˆ‘ä»¬åšä¸ªè¯•éªŒï¼š

```javascript
var arr = [function(){
    console.log(a)
}, {
    b: function(){
        console.log(b)
    }
}]

var new_arr = JSON.parse(JSON.stringify(arr));

console.log(new_arr);
```

é‚£å¦‚ä½•å®ç°ä¸€ä¸ªæ·±æ‹·è´å‘¢ï¼Ÿè¯´èµ·æ¥ä¹Ÿå¥½ç®€å•ï¼Œæˆ‘ä»¬åœ¨æ‹·è´çš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹å±æ€§å€¼çš„ç±»å‹ï¼Œå¦‚æœæ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬é€’å½’è°ƒç”¨æ·±æ‹·è´å‡½æ•°ä¸å°±å¥½äº†~

```javascript
var deepCopy = function(obj) {
    if (typeof obj !== 'object') return;
    var newObj = obj instanceof Array ? [] : {};
    for (var key in obj) {
        if (obj.hasOwnProperty(key)) {
            newObj[key] = typeof obj[key] === 'object' ? deepCopy(obj[key]) : obj[key];
        }
    }
    return newObj;
}
```

æµ…æ‹·è´

```javascript
var shallowCopy = function(obj) {
    // åªæ‹·è´å¯¹è±¡
    if (typeof obj !== 'object') return;
    // æ ¹æ®objçš„ç±»å‹åˆ¤æ–­æ˜¯æ–°å»ºä¸€ä¸ªæ•°ç»„è¿˜æ˜¯å¯¹è±¡
    var newObj = obj instanceof Array ? [] : {};
    // éå†objï¼Œå¹¶ä¸”åˆ¤æ–­æ˜¯objçš„å±æ€§æ‰æ‹·è´
    for (var key in obj) {
        if (obj.hasOwnProperty(key)) {
            newObj[key] = obj[key];
        }
    }
    return newObj;
}
```



### extends æºç 





## åˆ›å»ºå¯¹è±¡

### å·¥å‚æ¨¡å¼

```javascript
 function createPerson(name, age, job){
        var o = new Object();
        o.name = name;
        o.age = age;
        o.job = job;
        o.sayName = function(){
            alert(this.name);
        };
		return o; 
 	} 
	var person1 = createPerson("Fk", 29, "FE");
	var person2 = createPerson("Gas", 27, "DEV");
```

å·¥å‚æ¨¡å¼è™½ç„¶è§£å†³äº†åˆ›å»ºå¤šä¸ªç›¸ä¼¼å¯¹è±¡çš„é—®é¢˜ï¼Œä½†å´æ²¡æœ‰è§£å†³å¯¹è±¡è¯†åˆ«çš„é—®é¢˜(å³æ€æ ·çŸ¥é“ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹)ã€‚

### æ„é€ å‡½æ•°æ¨¡å¼

```javascript
function Person(name, age, job){
    this.name = name;
    this.age = age;
    this.job = job;
    this.sayName = function(){
        alert(this.name);
	}; 
}

var person1 = new Person("sad", 29, "FE");
var person2 = new Person("Geg", 27, "DEV");
```

#### æ„é€ VSå·¥å‚

æ„é€ å‡½æ•°çš„å’Œå·¥å‚æ¨¡å¼ç›¸æ¯”çš„çªå‡ºç‰¹ç‚¹

1.æ²¡æœ‰æ˜¾å¼åœ°åˆ›å»ºå¯¹è±¡;

2.ç›´æ¥å°†å±æ€§å’Œæ–¹æ³•èµ‹ç»™äº† this å¯¹è±¡;

3.æ²¡æœ‰ return è¯­å¥ã€‚

åˆ›å»ºPersonçš„æ–°å®ä¾‹ï¼Œå¿…é¡»**new**ï¼Œä¼šç»å†ä»¥ä¸‹æ„é€ å‡½æ•°

1.åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚

2.å°†æ„é€ å‡½æ•°çš„ä½œç”¨åŸŸèµ‹ç»™æ–°å¯¹è±¡(å› æ­¤ this å°±æŒ‡å‘äº†è¿™ä¸ªæ–°å¯¹è±¡)ã€‚

3.æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç (ä¸ºè¿™ä¸ªæ–°å¯¹è±¡æ·»åŠ å±æ€§)ã€‚

4.è¿”å›æ–°å¯¹è±¡ã€‚

#### æ£€æµ‹

```javascript
alert(person1.constructor == Person); //true
alert(person2.constructor == Person); //true

alert(person1 instanceof Object);  //true
alert(person1 instanceof Person);  //true
alert(person2 instanceof Object);  //true
alert(person2 instanceof Person);  //true
```

#### å°†æ„é€ å‡½æ•°å½“ä½œå‡½æ•°

```javascript
//æ„é€ å‡½æ•°
var person = new Person("Nicholas", 29, "Software Engineer"); 
person.sayName(); //"Nicholas"

//æ™®é€šå‡½æ•°
Person("Greg", 27, "Doctor"); // æ·»åŠ åˆ°window 
window.sayName(); //"Greg"

//åœ¨å¯¹è±¡ä½œç”¨åŸŸ
var o = new Object();
Person.call(o, "Kristen", 25, "Nurse"); 
o.sayName(); //"Kristen"
```

#### æ„é€ å‡½æ•°çš„é—®é¢˜

é—®é¢˜å°±æ˜¯æ¯ä¸ªæ–¹æ³•éƒ½è¦åœ¨æ¯ä¸ªå®ä¾‹ä¸Šé‡æ–°åˆ›å»ºä¸€éã€‚åœ¨å‰é¢çš„ä¾‹å­ä¸­ï¼Œperson1 å’Œ person2 éƒ½æœ‰ä¸€ä¸ªåä¸º sayName()çš„æ–¹æ³•ï¼Œ**ä½†é‚£ä¸¤ä¸ªæ–¹æ³•ä¸æ˜¯åŒä¸€ä¸ª Function çš„å®ä¾‹**ã€‚å› ä¸º**æ¯å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å®ä¾‹åŒ–äº†ä¸€ä¸ªå¯¹è±¡ã€‚**

æ‰€ä»¥è¿™ä¸ªå‡½æ•°ç›¸å½“äº

```javascript
function Person(name, age, job){
    this.name = name;
    this.age = age;
    this.job = job;
    this.sayName = function(){
        alert(this.name);
	}; 
}
// ç›¸å½“äº
function Person(name, age, job){
        this.name = name;
        this.age = age;
        this.job = job;
		this.sayName = new Function("alert(this.name)"); // ä¸å£°æ˜å‡½æ•°åœ¨é€»è¾‘ä¸Šæ˜¯ç­‰ä»·çš„ 
}
```

æ‰€ä»¥

```javascript
person1.sayName == person2.sayName // false
```

å¯ä»¥è¿™ä¹ˆè§£å†³

```javascript
function Person(name, age, job){
    this.name = name;
    this.age = age;
    this.job = job;
    this.sayName = sayName;
}
function sayName(){
    alert(this.name);
}
var person1 = new Person("Nicholas", 29, "Software Engineer");
var person2 = new Person("Greg", 27, "Doctor");
```

ä½†æ˜¯è¿™æ ·å®šä¹‰å®Œå…¨æ²¡æœ‰å¿…è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨åŸå‹æ¨¡å¼

### åŸå‹æ¨¡å¼

åˆ©ç”¨åŸå‹æ¨¡å¼åˆ›å»ºçš„å‡½æ•°å¯ä»¥è¾¾åˆ°ä¸Šé¢è¦æ±‚çš„æ•ˆæœ

```javascript
function Person(){
}
Person.prototype.name = "Nicholas";
Person.prototype.age = 29;
Person.prototype.job = "Software Engineer";
Person.prototype.sayName = function(){
	alert(this.name);
};
var person1 = new Person();
person1.sayName();   //"Nicholas"
var person2 = new Person();
person2.sayName(); //"Nicholas"
alert(person1.sayName == person2.sayName);  //true
```

æ‰€ä»¥ï¼Œæˆ‘ä»¬å°†sayName()æ–¹æ³•å’Œæ‰€æœ‰å±æ€§ç›´æ¥æ·»åŠ åˆ°äº† Person çš„ prototype å±æ€§ä¸­ã€‚æ‰€ä»¥person1 å’Œ person2 è®¿é—®çš„éƒ½æ˜¯åŒä¸€ç»„å±æ€§å’ŒåŒä¸€ä¸ª sayName()å‡½æ•°

#### ç†è§£åŸå‹å¯¹è±¡

>æ— è®ºä»€ä¹ˆæ—¶å€™ï¼Œåªè¦åˆ›å»ºäº†ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå°±ä¼šæ ¹æ®ä¸€ç»„ç‰¹å®šçš„è§„åˆ™ä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ª prototype å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰åŸå‹å¯¹è±¡éƒ½ä¼šè‡ªåŠ¨è·å¾—ä¸€ä¸ª constructor (æ„é€ å‡½æ•°)å±æ€§ï¼Œè¿™ä¸ªå±æ€§åŒ…å«ä¸€ä¸ªæŒ‡å‘ prototype å±æ€§æ‰€åœ¨å‡½æ•°çš„æŒ‡é’ˆã€‚å°±æ‹¿å‰é¢çš„ä¾‹å­æ¥è¯´ï¼Œ Person.prototype. constructor æŒ‡å‘ Personã€‚è€Œé€šè¿‡è¿™ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬è¿˜å¯ç»§ç»­ä¸ºåŸå‹å¯¹è±¡ 
>
>æ·»åŠ å…¶ä»–å±æ€§å’Œæ–¹æ³•ã€‚
> åˆ›å»ºäº†è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°ä¹‹åï¼Œå…¶åŸå‹å¯¹è±¡é»˜è®¤åªä¼šå–å¾— constructor å±æ€§;è‡³äºå…¶ä»–æ–¹æ³•ï¼Œåˆ™ 
>
>éƒ½æ˜¯ä» Object ç»§æ‰¿è€Œæ¥çš„ã€‚å½“è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹åï¼Œè¯¥å®ä¾‹çš„å†…éƒ¨å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆ(å†…éƒ¨ å±æ€§)ï¼ŒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚ECMA-262 ç¬¬ 5 ç‰ˆä¸­ç®¡è¿™ä¸ªæŒ‡é’ˆå«[[Prototype]]ã€‚è™½ç„¶åœ¨è„šæœ¬ä¸­ æ²¡æœ‰æ ‡å‡†çš„æ–¹å¼è®¿é—®[[Prototype]]ï¼Œä½† Firefoxã€Safari å’Œ Chrome åœ¨æ¯ä¸ªå¯¹è±¡ä¸Šéƒ½æ”¯æŒä¸€ä¸ªå±æ€§ __proto__;è€Œåœ¨å…¶ä»–å®ç°ä¸­ï¼Œè¿™ä¸ªå±æ€§å¯¹è„šæœ¬åˆ™æ˜¯å®Œå…¨ä¸å¯è§çš„ã€‚ä¸è¿‡ï¼Œè¦æ˜ç¡®çš„çœŸæ­£é‡è¦çš„ä¸€ç‚¹å°± æ˜¯ï¼Œè¿™ä¸ªè¿æ¥å­˜åœ¨äºå®ä¾‹ä¸æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä¹‹é—´ï¼Œè€Œä¸æ˜¯å­˜åœ¨äºå®ä¾‹ä¸æ„é€ å‡½æ•°ä¹‹é—´ã€‚ 

ä¹‹å‰çš„æˆ‘æ˜¯çœ‹äº†å¾ˆå¤šä¾‹å­ç†è§£çš„ï¼Œå…¶å®å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œå½“æˆ‘ä»¬æ¯æ¬¡å†™ä¸€äº›æ–¹æ³•çš„æ—¶å€™éƒ½é»˜è®¤ç»™äºˆæˆ‘ä»¬ä¸€äº›æ–¹æ³•ï¼Œæ¯”å¦‚

```javascript
var a = [1,2,3,4];
//åœ¨è¿™é‡Œæˆ‘å¯ä»¥ç›´æ¥è°ƒç”¨ a.push()æ–¹æ³•ï¼Œä½†æ˜¯a.pushæ–¹æ³•å¹¶ä¸æ˜¯æˆ‘ä»¬æ„é€ å‡ºæ¥çš„ï¼Œè€Œæ˜¯åœ¨Array.prototypeä¸Šçš„æ–¹æ³•
//ä¹Ÿå°±æ˜¯ç›¸å½“äºï¼ˆä¼ªä»£ç ï¼‰
var a = new Array();
Array.prototype.push2(){
    var arrLength = arguments.lengthï¼›
    var arrOther = this;
    var newArr = [];
    for(var i = 0;i<arrOther.length;i++){
        newArr[i] = arrOther[i];
    }
    for(var i = arrOther.length ;i<arrOther.length+arrLength;i++){
        newArr[i] =  arguments[i-arrOther.length];
    }
    return newArr;
}
    a.push(5,6);  // 1,2,3,4,5,6
```

å›åˆ°ä¹‹å‰çš„åŸå‹æ¨¡å¼çš„åˆ›å»ºä»£ç 

```javascript
alert(Person.prototype.isPrototypeOf(person1));  //true
alert(Person.prototype.isPrototypeOf(person2));  //true
```

ECMAScript 5å¢åŠ äº†ä¸€ä¸ªæ–°æ–¹æ³•ï¼Œå«Object.getPrototypeOf()ï¼Œåœ¨æ‰€æœ‰æ”¯æŒçš„å®ç°ä¸­ï¼Œè¿™ä¸ª æ–¹æ³•è¿”å›[[Prototype]]çš„å€¼ã€‚ä¾‹å¦‚: 

```javascript
alert(Object.getPrototypeOf(person1) == Person.prototype); //true 
alert(Object.getPrototypeOf(person1).name); //"Nicholas" 
```

>æ¯å½“ä»£ç è¯»å–æŸä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§æ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œä¸€æ¬¡æœç´¢ï¼Œç›®æ ‡æ˜¯å…·æœ‰ç»™å®šåå­—çš„å±æ€§ã€‚æœç´¢é¦–å…ˆ
>ä»å¯¹è±¡å®ä¾‹æœ¬èº«å¼€å§‹ã€‚å¦‚æœåœ¨å®ä¾‹ä¸­æ‰¾åˆ°äº†å…·æœ‰ç»™å®šåå­—çš„å±æ€§ï¼Œåˆ™è¿”å›è¯¥å±æ€§çš„å€¼;å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œ
>åˆ™ç»§ç»­æœç´¢æŒ‡é’ˆæŒ‡å‘çš„åŸå‹å¯¹è±¡ï¼Œåœ¨åŸå‹å¯¹è±¡ä¸­æŸ¥æ‰¾å…·æœ‰ç»™å®šåå­—çš„å±æ€§ã€‚å¦‚æœåœ¨åŸå‹å¯¹è±¡ä¸­æ‰¾åˆ°äº†è¿™
>ä¸ªå±æ€§ï¼Œåˆ™è¿”å›è¯¥å±æ€§çš„å€¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æˆ‘ä»¬è°ƒç”¨ person1.sayName()çš„æ—¶å€™ï¼Œä¼šå…ˆåæ‰§è¡Œä¸¤æ¬¡æœ
>ç´¢ã€‚é¦–å…ˆï¼Œè§£æå™¨ä¼šé—®:â€œå®ä¾‹ person1 æœ‰ sayName å±æ€§å—?â€ç­”:â€œæ²¡æœ‰ã€‚â€ç„¶åï¼Œå®ƒç»§ç»­æœç´¢ï¼Œå†
>é—®:â€œperson1 çš„åŸå‹æœ‰ sayName å±æ€§å—?â€ç­”:â€œæœ‰ã€‚â€äºæ˜¯ï¼Œå®ƒå°±è¯»å–é‚£ä¸ªä¿å­˜åœ¨åŸå‹å¯¹è±¡ä¸­çš„å‡½
>æ•°ã€‚å½“æˆ‘ä»¬è°ƒç”¨ person2.sayName()æ—¶ï¼Œå°†ä¼šé‡ç°ç›¸åŒçš„æœç´¢è¿‡ç¨‹ï¼Œå¾—åˆ°ç›¸åŒçš„ç»“æœã€‚è€Œè¿™æ­£æ˜¯å¤šä¸ª 8
>å¯¹è±¡å®ä¾‹å…±äº«åŸå‹æ‰€ä¿å­˜çš„å±æ€§å’Œæ–¹æ³•çš„åŸºæœ¬åŸç†ã€‚

è™½ç„¶å¯ä»¥é€šè¿‡å¯¹è±¡å®ä¾‹è®¿é—®ä¿å­˜åœ¨åŸå‹ä¸­çš„å€¼ï¼Œä½†å´**ä¸èƒ½é€šè¿‡å¯¹è±¡å®ä¾‹é‡å†™åŸå‹ä¸­çš„å€¼**ã€‚å¦‚æœæˆ‘ä»¬åœ¨å®ä¾‹ä¸­æ·»åŠ äº†ä¸€ä¸ªå±æ€§ï¼Œè€Œè¯¥å±æ€§ä¸å®ä¾‹åŸå‹ä¸­çš„ä¸€ä¸ªå±æ€§åŒåï¼Œé‚£æˆ‘ä»¬å°±åœ¨**å®ä¾‹ä¸­åˆ›å»ºè¯¥å±æ€§ï¼Œè¯¥å±æ€§å°†ä¼šå±è”½åŸå‹ä¸­çš„é‚£ä¸ªå±æ€§**ã€‚æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚

```javascript
function Person(){
}
Person.prototype.name = "Nicholas";
Person.prototype.age = 29;
Person.prototype.job = "Software Engineer"; 12 Person.prototype.sayName = function(){
    alert(this.name);
};
var person1 = new Person();
person1.name = "Greg";
alert(person1.name); //"Greg"â€”â€”æ¥è‡ªå®ä¾‹ 
alert(person2.name); //"Nicholas"â€”â€”æ¥è‡ªåŸå‹
```

> å½“ä¸ºå¯¹è±¡å®ä¾‹æ·»åŠ ä¸€ä¸ªå±æ€§æ—¶ï¼Œè¿™ä¸ªå±æ€§å°±ä¼šå±è”½åŸå‹å¯¹è±¡ä¸­ä¿å­˜çš„åŒåå±æ€§;æ¢å¥è¯è¯´ï¼Œæ·»åŠ è¿™ä¸ªå±æ€§åªä¼šé˜»æ­¢æˆ‘ä»¬è®¿é—®åŸå‹ä¸­çš„é‚£ä¸ªå±æ€§ï¼Œä½†ä¸ä¼šä¿®æ”¹é‚£ä¸ªå±æ€§ã€‚å³ä½¿å°†è¿™ä¸ªå±æ€§è®¾ç½®ä¸º nullï¼Œä¹Ÿåªä¼šåœ¨å®ä¾‹ä¸­è®¾ç½®è¿™ä¸ªå±æ€§ï¼Œè€Œä¸ä¼šæ¢å¤å…¶æŒ‡å‘åŸå‹çš„è¿æ¥ã€‚ä¸è¿‡ï¼Œä½¿ç”¨ delete æ“ä½œç¬¦åˆ™å¯ä»¥å®Œå…¨åˆ é™¤å®ä¾‹å±æ€§ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿé‡æ–°è®¿é—®åŸå‹ä¸­çš„å±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚

#### æ¸…é™¤å±æ€§

å¦‚æœæˆ‘ä»¬åˆ é™¤å±æ€§çš„è¯

```javascript
function Person(){
}
Person.prototype.name = "Nicholas";
Person.prototype.age = 29;
Person.prototype.job = "Software Engineer";
Person.prototype.sayName = function(){
    alert(this.name);
};
var person1 = new Person();
var person2 = new Person();
person1.name = "Greg";
alert(person1.name);//"Greg"â€”â€”æ¥è‡ªå®ä¾‹
alert(person2.name); //"Nicholas"â€”â€”æ¥è‡ªåŸå‹
delete person1.name;
alert(person1.name);//"Nicholas"â€”â€”æ¥è‡ªåŸå‹
```

#### hasOwnProperty()

ä½¿ç”¨ **hasOwnProperty()æ–¹æ³•å¯ä»¥æ£€æµ‹ä¸€ä¸ªå±æ€§æ˜¯å­˜åœ¨äºå®ä¾‹ä¸­**ï¼Œè¿˜æ˜¯å­˜åœ¨äºåŸå‹ä¸­ã€‚è¿™ä¸ªæ–¹æ³•(ä¸è¦å¿˜äº†å®ƒæ˜¯ä» Object ç»§æ‰¿æ¥çš„)åªåœ¨ç»™å®šå±æ€§å­˜åœ¨äºå¯¹è±¡å®ä¾‹ä¸­æ—¶ï¼Œæ‰ä¼šè¿”å› trueã€‚æ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­

```javascript
function Person(){
}
Person.prototype.name = "Nicholas";
Person.prototype.age = 29;
Person.prototype.job = "Software Engineer";
Person.prototype.sayName = function(){
    alert(this.name);
}
var person1 = new Person();
var person2 = new Person();
alert(person1.hasOwnProperty("name"));  //false

person1.name = "Greg";
alert(person1.name); //"Greg"â€”â€”æ¥è‡ªå®ä¾‹ 
alert(person1.hasOwnProperty("name")); //true

alert(person2.name); //"Nicholas"â€”â€”æ¥è‡ªåŸå‹ 
alert(person2.hasOwnProperty("name")); //false

delete person1.name;
alert(person1.name); //"Nicholas"â€”â€”æ¥è‡ªåŸå‹ 
alert(person1.hasOwnProperty("name")); //false
```

#### åŸå‹ä¸ in æ“ä½œç¬¦

æœ‰ä¸¤ç§æ–¹å¼ä½¿ç”¨ in æ“ä½œç¬¦:å•ç‹¬ä½¿ç”¨å’Œåœ¨ for-in å¾ªç¯ä¸­ä½¿ç”¨ã€‚åœ¨å•ç‹¬ä½¿ç”¨æ—¶ï¼Œin æ“ä½œç¬¦ä¼šåœ¨é€šè¿‡å¯¹è±¡èƒ½å¤Ÿè®¿é—®ç»™å®šå±æ€§æ—¶è¿”å› trueï¼Œ**æ— è®ºè¯¥å±æ€§å­˜åœ¨äºå®ä¾‹ä¸­è¿˜æ˜¯åŸå‹ä¸­**ã€‚çœ‹ä¸€çœ‹ä¸‹é¢çš„ä¾‹å­

```javascript
function Person(){
}

Person.prototype.name = "Nicholas";
Person.prototype.age = 29;
Person.prototype.job = "Software Engineer";
Person.prototype.sayName = function(){
    alert(this.name);
};

var person1 = new Person();
var person2 = new Person();

alert(person1.hasOwnProperty("name"));  //false
alert("name" in person1);  //true

person1.name = "Greg";
alert(person1.name); //"Greg" â€”â€”æ¥è‡ªå®ä¾‹ 
alert(person1.hasOwnProperty("name")); //true 
alert("name" in person1); //true

alert(person2.name); //"Nicholas" â€”â€”æ¥è‡ªåŸå‹ 
alert(person2.hasOwnProperty("name")); //false 
alert("name" in person2); //true

delete person1.name;
alert(person1.name); //"Nicholas" â€”â€”æ¥è‡ªåŸå‹ 
alert(person1.hasOwnProperty("name")); //false 
alert("name" in person1); //true


```

åœ¨ä»¥ä¸Šä»£ç æ‰§è¡Œçš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œname å±æ€§è¦ä¹ˆæ˜¯ç›´æ¥åœ¨å¯¹è±¡ä¸Šè®¿é—®åˆ°çš„ï¼Œè¦ä¹ˆæ˜¯é€šè¿‡åŸå‹è®¿é—®åˆ°çš„ã€‚





#### æ›´ç®€å•çš„åŸå‹è¯­æ³•

```javascript
function Person(){
}
Person.prototype = {
    name : "Nicholas",
    age : 29,
    job: "Software Engineer",
    sayName : function () {
        alert(this.name);
    }
};
```



```javascript
var friend = new Person();
alert(friend.constructor == Person);  //false
```

é€šè¿‡constructor å·²ç»æ— æ³•ç¡®å®šå¯¹è±¡çš„ç±»å‹äº†æ‰€ä»¥æˆ‘ä»¬è¦æŒ‡å®šconstructor

```javascript
function Person(){ 
}
Person.prototype = {
	constructor : Person, 
    name : "Nicholas", 
    age : 29, 
    job: "Software Engineer", 
    sayName : function () { 
    alert(this.name); 
	}
};
```

é‡è®¾ constructor å±æ€§ä¼šå¯¼è‡´å®ƒçš„[[Enumerable]]ç‰¹æ€§è¢«è®¾ç½®ä¸º trueï¼Œæ‰€ä»¥è¦åˆ©ç”¨Object.defineProperty()ã€‚

```javascript
function Person(){ }

Person.prototype = { 
    name : "Nicholas", 
    age : 29, 
    job : "Software Engineer", 
    sayName : function () {
        alert(this.name); 
    } 
};

Object.defineProperty(Person.prototype, "constructor", {
	enumerable: false,
	value: Person 
});
```

#### åŸå‹çš„åŠ¨æ€æ€§

ç”±äºåœ¨åŸå‹ä¸­æŸ¥æ‰¾å€¼çš„è¿‡ç¨‹æ˜¯ä¸€æ¬¡æœç´¢ï¼Œå› æ­¤æˆ‘ä»¬å¯¹åŸå‹å¯¹è±¡æ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½èƒ½å¤Ÿç«‹å³ä»å®ä¾‹ä¸Šåæ˜ å‡ºæ¥â€”â€”**å³ä½¿æ˜¯å…ˆåˆ›å»ºäº†å®ä¾‹åä¿®æ”¹åŸå‹ä¹Ÿç…§æ ·å¦‚æ­¤**ã€‚

```javascript
var friend = new Person();
Person.prototype.sayHi = function(){ 
    alert("hi"); 
};

friend.sayHi();
//"hi"ï¼ˆæ²¡æœ‰é—®é¢˜ï¼ï¼‰
```

å¦‚æœæ˜¯é‡å†™æ•´ä¸ªåŸå‹å¯¹è±¡ï¼Œé‚£ä¹ˆæƒ…å†µå°±ä¸ä¸€æ ·äº†ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œè°ƒç”¨æ„é€ å‡½æ•°æ—¶ä¼šä¸ºå®ä¾‹æ·»åŠ ä¸€ä¸ªæŒ‡å‘æœ€åˆåŸå‹çš„ [[Prototype]]æŒ‡é’ˆï¼Œè€ŒæŠŠåŸå‹ä¿®æ”¹ä¸ºå¦å¤–ä¸€ä¸ªå¯¹è±¡å°±ç­‰äºåˆ‡æ–­äº†æ„é€ å‡½æ•°ä¸æœ€åˆåŸå‹ä¹‹é—´çš„è”ç³»ã€‚ è¯·è®°ä½ï¼š**å®ä¾‹ä¸­çš„æŒ‡é’ˆä»…æŒ‡å‘åŸå‹ï¼Œè€Œä¸æŒ‡å‘æ„é€ å‡½æ•°**ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚

```javascript
function Person(){ 
}
var friend = new Person();

Person.prototype = {
	constructor: Person, 
    name : "Nicholas", 
    age : 29, 
    job : "Software Engineer", 
    sayName : function () { 
        alert(this.name);
    }
};

friend.sayName(); //error
```

é‡å†™åŸå‹å¯¹è±¡åˆ‡æ–­äº†ç°æœ‰åŸå‹ä¸ä»»ä½•ä¹‹å‰å·²ç»å­˜åœ¨çš„å¯¹è±¡å®ä¾‹ä¹‹é—´çš„è”ç³»ï¼›å®ƒä»¬å¼•ç”¨çš„ä»ç„¶æ˜¯æœ€åˆçš„åŸå‹ã€‚

#### åŸç”Ÿå¯¹è±¡çš„åŸå‹

Array.prototype ä¸­å¯ä»¥æ‰¾åˆ° sort() æ–¹æ³•ï¼Œ è€Œåœ¨ String.prototype ä¸­å¯ä»¥æ‰¾åˆ° substring()æ–¹æ³•ï¼Œ

```javascript
alert(typeof Array.prototype.sort);        //"function"
alert(typeof String.prototype.substring);  //"function"
```

åŸç”Ÿå¯¹è±¡çš„åŸå‹ï¼Œä¸ä»…å¯ä»¥å–å¾—æ‰€æœ‰é»˜è®¤æ–¹æ³•çš„å¼•ç”¨ï¼Œè€Œä¸”ä¹Ÿå¯ä»¥å®šä¹‰æ–°æ–¹æ³•ã€‚å¯ä»¥åƒä¿®æ”¹è‡ª å®šä¹‰å¯¹è±¡çš„åŸå‹ä¸€æ ·ä¿®æ”¹åŸç”Ÿå¯¹è±¡çš„åŸå‹ï¼Œ å› æ­¤å¯ä»¥éšæ—¶æ·»åŠ æ–¹æ³•ã€‚

#### åŸå‹å¯¹è±¡çš„é—®é¢˜

**åŸå‹æ¨¡å¼çš„æœ€å¤§é—®é¢˜æ˜¯ç”±å…¶å…±äº«çš„æœ¬æ€§æ‰€å¯¼è‡´çš„ã€‚**

```javascript
function Person(){ }

Person.prototype = {
	constructor: Person, 
    name : "Nicholas", 
    age : 29, 
    job : "Software Engineer", 
    friends : ["Shelby", "Court"], 
    sayName : function () { 
        alert(this.name); 
    }
};

var person1 = new Person(); 
var person2 = new Person();

person1.friends.push("Van");

alert(person1.friends); //"Shelby,Court,Van" 
alert(person2.friends); //"Shelby,Court,Van" 
alert(person1.friends === person2.friends); //true
```

å®ä¾‹ä¸€èˆ¬éƒ½æ˜¯è¦æœ‰å±äºè‡ªå·±çš„å…¨éƒ¨ å±æ€§çš„ã€‚è€Œè¿™ä¸ªé—®é¢˜æ­£æ˜¯æˆ‘ä»¬å¾ˆå°‘çœ‹åˆ°æœ‰äººå•ç‹¬ä½¿ç”¨åŸå‹æ¨¡å¼çš„åŸå› æ‰€åœ¨.

### ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼

```javascript
function Person(name, age, job){ 
    this.name = name; 
    this.age = age; 
    this.job = job; 
    this.friends = ["Shelby", "Court"]; 
}

Person.prototype = { 
    constructor : Person, 
    sayName : function(){ 
        alert(this.name); 
    } 
}

var person1 = new Person("Nicholas", 29, "Software Engineer");
var person2 = new Person("Greg", 27, "Doctor");

person1.friends.push("Van"); 
alert(person1.friends); //"Shelby,Count,Van"
alert(person2.friends); //"Shelby,Count" 
alert(person1.friends === person2.friends); //false
alert(person1.sayName === person2.sayName); //true
```

å®ä¾‹å±æ€§éƒ½æ˜¯åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰çš„ï¼Œè€Œç”±æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§ constructor å’Œæ–¹æ³• sayName()åˆ™æ˜¯åœ¨åŸå‹ä¸­å®šä¹‰çš„ã€‚

>è¿™ç§æ„é€ å‡½æ•°ä¸åŸå‹æ··æˆçš„æ¨¡å¼ï¼Œæ˜¯ç›®å‰åœ¨ ECMAScript ä¸­ä½¿ç”¨æœ€å¹¿æ³›ã€è®¤åŒåº¦æœ€é«˜çš„ä¸€ç§åˆ›å»ºè‡ª å®šä¹‰ç±»å‹çš„æ–¹æ³•ã€‚å¯ä»¥è¯´ï¼Œè¿™æ˜¯ç”¨æ¥å®šä¹‰å¼•ç”¨ç±»å‹çš„ä¸€ç§é»˜è®¤æ¨¡å¼ã€‚

### åŠ¨æ€åŸå‹æ¨¡å¼

å¯ä»¥é€šè¿‡æ£€æŸ¥æŸä¸ªåº”è¯¥å­˜åœ¨çš„æ–¹æ³•æ˜¯å¦æœ‰æ•ˆï¼Œæ¥å†³å®šæ˜¯å¦éœ€è¦åˆå§‹åŒ–åŸå‹ã€‚

```javascript
function Person(name, age, job){
	//å±æ€§ 
    this.name = name; 
    this.age = age; 
    this.job = job;
    //æ–¹æ³•
    if (typeof this.sayName != "function"){
	Person.prototype.sayName = function(){
        alert(this.name); 
    };
  }
}

var friend = new Person("Nicholas", 29, "Software Engineer"); 
friend.sayName();
```

åªåœ¨ sayName()æ–¹æ³•ä¸å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šå°†å®ƒæ·»åŠ åˆ°åŸ å‹ä¸­ã€‚è¿™æ®µä»£ç åªä¼šåœ¨åˆæ¬¡è°ƒç”¨æ„é€ å‡½æ•°æ—¶æ‰ä¼šæ‰§è¡Œã€‚æ­¤åï¼ŒåŸå‹å·²ç»å®Œæˆåˆå§‹åŒ–ï¼Œä¸éœ€è¦å†åšä¿®æ”¹ã€‚

### å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼

åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„ä½œç”¨ä»…ä»…æ˜¯å°è£…åˆ›å»ºå¯¹è±¡çš„ä»£ç ï¼Œç„¶åå†è¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡ï¼›

```javascript
function Person(name, age, job){
    var o = new Object(); 
    o.name = name; 
    o.age = age; 
    o.job = job; 
    o.sayName = function(){ 
        alert(this.name); 
    }; 
    return o;
}

var friend = new Person("Nicholas", 29, "Software Engineer"); 
friend.sayName(); //"Nicholas"
```



### ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼

```javascript
function Person(name, age, job){
    //åˆ›å»ºè¦è¿”å›çš„å¯¹è±¡ 
    var o = new Object();
    //å¯ä»¥åœ¨è¿™é‡Œå®šä¹‰ç§æœ‰å˜é‡å’Œå‡½æ•°
    //æ·»åŠ æ–¹æ³• 
    o.sayName = function(){ 
        alert(name); 
    };
	//è¿”å›å¯¹è±¡ 
    return o;
}

var friend = Person("Nicholas", 29, "Software Engineer"); friend.sayName(); //"Nicholas"
```

é™¤äº†ä½¿ç”¨ sayName()æ–¹æ³•ä¹‹å¤–ï¼Œæ²¡æœ‰å…¶ä»–åŠæ³•è®¿é—® name çš„å€¼ã€‚ å¯ä»¥åƒä¸‹é¢ä½¿ç”¨ç¨³å¦¥çš„ Person æ„é€ å‡½æ•°ã€‚

```javascript
var friend = Person("Nicholas", 29, "Software Engineer"); 
friend.sayName(); //"Nicholas"
```

ä¸å¯„ç”Ÿæ„é€ å‡½æ•°æ¨¡å¼ç±»ä¼¼ï¼Œä½¿ç”¨ç¨³å¦¥æ„é€ å‡½æ•°æ¨¡å¼åˆ›å»ºçš„å¯¹è±¡ä¸æ„é€ å‡½æ•°ä¹‹é—´ä¹Ÿ æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œå› æ­¤ instanceof æ“ä½œç¬¦å¯¹è¿™ç§å¯¹è±¡ä¹Ÿæ²¡æœ‰æ„ä¹‰ã€‚

## ç»§æ‰¿

### åŸå‹é“¾

```javascript
function yeye(){ 
    this.yeyeValue = true; 
}
yeye.prototype.getyeyeValue = function(){ 
    return this.yeyeValue; 
};

function father(){ 
    this.fatherValue = false; 
}

//ç»§æ‰¿äº†yeye
father.prototype = new yeye();

father.prototype.getfatherValue = function (){ 
    return this.fatherValue; 
};

var son = new father(); 
alert(son.getyeyeValue());  //true
```

yeye å’Œ fatherã€‚æ¯ä¸ªç±»å‹åˆ†åˆ«æœ‰ä¸€ä¸ªå±æ€§å’Œä¸€ä¸ªæ–¹æ³•ã€‚å®ƒä»¬ çš„ä¸»è¦åŒºåˆ«æ˜¯ father ç»§æ‰¿yeyeï¼Œ**è€Œç»§æ‰¿æ˜¯é€šè¿‡åˆ›å»º yeye çš„å®ä¾‹ï¼Œå¹¶å°†è¯¥å®ä¾‹èµ‹ç»™ father.prototype å®ç°çš„ã€‚å®ç°çš„æœ¬è´¨æ˜¯é‡å†™åŸå‹å¯¹è±¡**ï¼ŒåŸæ¥å­˜åœ¨äº yeye çš„å®ä¾‹ä¸­çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œç°åœ¨ä¹Ÿå­˜åœ¨äº father.prototype ä¸­äº†

æ²¡æœ‰ä½¿ç”¨ father é»˜è®¤æä¾›çš„åŸå‹ï¼Œè€Œæ˜¯ç»™å®ƒæ¢äº†ä¸€ä¸ªæ–°åŸå‹ï¼›è¿™ä¸ªæ–°åŸå‹å°±æ˜¯ yeye çš„å®ä¾‹ã€‚äºæ˜¯ï¼Œæ–°åŸå‹ä¸ä»…å…·æœ‰ä½œä¸ºä¸€ä¸ª yeye çš„å®ä¾‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨å±æ€§å’Œæ–¹æ³•ï¼Œ è€Œä¸”å…¶å†…éƒ¨è¿˜æœ‰ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘äº† yeye çš„åŸå‹ã€‚son æŒ‡å‘ father çš„ åŸ å‹ ï¼Œ father çš„ åŸ å‹ åˆ æŒ‡ å‘ yeye çš„ åŸ å‹ ã€‚ getyeyeValue() æ–¹ æ³• ä» ç„¶ è¿˜ åœ¨ yeye.prototype ä¸­ï¼Œä½† yeyeValue åˆ™ä½äº father.prototype ä¸­ã€‚è¿™æ˜¯å› ä¸ºyeyeValueæ˜¯ä¸€ ä¸ªå®ä¾‹å±æ€§ï¼Œè€Œ getyeyeValue()åˆ™æ˜¯ä¸€ä¸ªåŸå‹æ–¹æ³•ã€‚æ—¢ç„¶ father.prototype ç°åœ¨æ˜¯ yeyeçš„å®ä¾‹ï¼Œé‚£ä¹ˆ yeyeValue å½“ç„¶å°±ä½äºè¯¥å®ä¾‹ä¸­äº†ã€‚æ­¤å¤–ï¼Œè¦æ³¨æ„ son.constructor ç°åœ¨æŒ‡å‘çš„ æ˜¯ yeyeï¼Œè¿™æ˜¯å› ä¸ºåŸæ¥ father.prototype ä¸­çš„ constructor è¢«é‡å†™äº†çš„ç¼˜æ•… ã€‚

å½“ä»¥è¯»å–æ¨¡å¼**è®¿é—®ä¸€ä¸ªå®ä¾‹å±æ€§æ—¶ï¼Œé¦–å…ˆä¼šåœ¨å®ä¾‹ä¸­æœç´¢è¯¥å±æ€§ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°è¯¥å±æ€§ï¼Œåˆ™ä¼šç»§ç»­æœç´¢å®ä¾‹çš„åŸå‹ã€‚åœ¨ é€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿çš„æƒ…å†µä¸‹ï¼Œ æœç´¢è¿‡ç¨‹å°±å¾—ä»¥æ²¿ç€åŸå‹é“¾ç»§ç»­å‘ä¸Šã€‚** å°±æ‹¿ä¸Šé¢çš„ä¾‹å­æ¥è¯´ï¼Œ è°ƒç”¨ instance.getSuperValue()ä¼šç»å†ä¸‰ä¸ªæœç´¢æ­¥éª¤ï¼š1ï¼‰æœç´¢å®ä¾‹ï¼›2ï¼‰æœç´¢ father.prototypeï¼› 3ï¼‰æœç´¢ yeye.prototypeï¼Œæœ€åä¸€æ­¥æ‰ä¼šæ‰¾åˆ°è¯¥æ–¹æ³•ã€‚åœ¨æ‰¾ä¸åˆ°å±æ€§æˆ–æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œæœç´¢è¿‡ç¨‹æ€»æ˜¯è¦ä¸€ç¯ä¸€ç¯åœ°å‰è¡Œåˆ°åŸå‹é“¾æœ«ç«¯æ‰ä¼šåœä¸‹æ¥ã€‚

#### é»˜è®¤çš„åŸå‹

æ‰€æœ‰å¼•ç”¨ç±»å‹é»˜è®¤éƒ½ç»§æ‰¿äº† Objectï¼Œè€Œè¿™ä¸ªç»§æ‰¿ä¹Ÿæ˜¯é€šè¿‡åŸå‹é“¾å®ç°çš„ã€‚æ‰€æœ‰å‡½æ•°çš„é»˜è®¤åŸå‹éƒ½æ˜¯ Object çš„å®ä¾‹ï¼Œå› æ­¤é»˜è®¤åŸå‹éƒ½ä¼šåŒ…å«ä¸€ä¸ªå†…éƒ¨æŒ‡é’ˆï¼ŒæŒ‡å‘ Object.prototypeã€‚è¿™ä¹Ÿæ­£æ˜¯æ‰€æœ‰è‡ªå®šä¹‰ç±»å‹éƒ½ä¼šç»§æ‰¿ toString()ã€ valueOf()ç­‰é»˜è®¤æ–¹æ³•çš„æ ¹æœ¬åŸå› ã€‚

#### ç¡®å®šåŸå‹å’Œå®ä¾‹çš„å…³ç³»

instanceofå®ä¾‹ä¸åŸå‹é“¾ä¸­å‡ºç°è¿‡çš„æ„é€ å‡½æ•°ï¼Œç»“æœå°±ä¼šè¿”å› trueã€‚

```javascript
alert(instance instanceof Object);     //true 
alert(instance instanceof yeye);  //true
alert(instance instanceof father);    //true
```

isPrototypeOf() åªè¦æ˜¯åŸå‹é“¾ä¸­å‡ºç°è¿‡çš„åŸå‹ï¼Œéƒ½å¯ä»¥è¯´æ˜¯è¯¥åŸå‹é“¾æ‰€æ´¾ç”Ÿçš„å®ä¾‹çš„åŸå‹ï¼Œè¿”å›true

```javascript
alert(Object.prototype.isPrototypeOf(instance));      //true
alert(SuperType.prototype.isPrototypeOf(instance));   //true
alert(SubType.prototype.isPrototypeOf(instance));     //true
```

#### è°¨æ…åœ°å®šä¹‰æ–¹æ³•

ç»™åŸå‹æ·»åŠ æ–¹æ³•çš„ä»£ç ä¸€å®šè¦æ”¾åœ¨æ›¿æ¢åŸå‹çš„è¯­å¥ä¹‹åã€‚

```javascript
function yeye(){ 
    this.yeyeValue = true; 
}

yeye.prototype.getSuperValue = function(){ 
    return this.yeyeValue; 
};

//ç»§æ‰¿äº† yeye
function father(){ 		
    this.fatherValue = false; 
}

father.prototype = new yeye();

//æ·»åŠ æ–°æ–¹æ³• 
father.prototype.getfatherValue = function (){ 
    return this.fatherValue; 
};

//é‡å†™è¶…ç±»å‹ä¸­çš„æ–¹æ³• 
father.prototype.getyeyeValue = function (){ 
    return false; 
};

var son = new father(); 
alert(son.getyeyeValue());  //false
```

ç¬¬ä¸€ä¸ªæ–¹æ³• getSubValue()è¢«æ·»åŠ åˆ°äº† SubType ä¸­ã€‚ç¬¬äºŒä¸ªæ–¹æ³• getSuperValue()æ˜¯åŸå‹é“¾ä¸­å·²ç»å­˜åœ¨çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä½†é‡å†™è¿™ä¸ªæ–¹æ³•å°†ä¼šå±è”½åŸæ¥çš„ é‚£ä¸ªæ–¹æ³•ã€‚æ¢å¥è¯è¯´ï¼Œå½“é€šè¿‡ SubType çš„å®ä¾‹è°ƒç”¨ getSuperValue()æ—¶ï¼Œè°ƒç”¨çš„å°±æ˜¯è¿™ä¸ªé‡æ–°å®šä¹‰ çš„æ–¹æ³•ï¼›ä½†é€šè¿‡ SuperType çš„å®ä¾‹è°ƒç”¨ getSuperValue()æ—¶ï¼Œè¿˜ä¼šç»§ç»­è°ƒç”¨åŸæ¥çš„é‚£ä¸ªæ–¹æ³•ã€‚è¿™é‡Œ è¦æ ¼å¤–æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»åœ¨ç”¨ SuperType çš„å®ä¾‹æ›¿æ¢åŸå‹ä¹‹åï¼Œå†å®šä¹‰è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚

**ä¸èƒ½ä½¿ç”¨å¯¹è±¡å­—é¢é‡åˆ›å»ºåŸå‹æ–¹æ³•ã€‚å› ä¸ºè¿™ æ ·åšå°±ä¼šé‡å†™åŸå‹é“¾**

```javascript
function SuperType(){ 
    this.property = true; 
}

SuperType.prototype.getSuperValue = function(){ 
    return this.property; 
};

function SubType(){ 
    this.subproperty = false; 
}

//ç»§æ‰¿äº† SuperType
SubType.prototype = new SuperType();

//ä½¿ç”¨å­—é¢é‡æ·»åŠ æ–°æ–¹æ³•ï¼Œä¼šå¯¼è‡´ä¸Šä¸€è¡Œä»£ç æ— æ•ˆ
SubType.prototype = {
getSubValue : function (){ 
    return this.subproperty; 
},
someOtherMethod : function (){ 
    return false; 
}
};

var instance = new SubType(); 
alert(
    instance.getSuperValue()
);
//error!
```



#### åŸå‹é“¾çš„é—®é¢˜

æœ€ä¸»è¦çš„é—®é¢˜æ¥è‡ª**åŒ…å«å¼•ç”¨ç±»å‹å€¼çš„åŸå‹**ã€‚åŒ…å«å¼•ç”¨ç±»å‹å€¼çš„åŸå‹å±æ€§ä¼šè¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼›è€Œ è¿™ä¹Ÿæ­£æ˜¯ä¸ºä»€ä¹ˆè¦åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œè€Œä¸æ˜¯åœ¨åŸå‹å¯¹è±¡ä¸­å®šä¹‰å±æ€§çš„åŸå› ã€‚åœ¨é€šè¿‡åŸå‹æ¥å®ç°ç»§æ‰¿æ—¶ï¼ŒåŸå‹å®é™…ä¸Šä¼šå˜æˆå¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹ã€‚äºæ˜¯ï¼ŒåŸå…ˆçš„å®ä¾‹å±æ€§ä¹Ÿå°±é¡ºç†æˆç« åœ°å˜æˆäº†ç°åœ¨çš„åŸå‹å±æ€§äº†ã€‚

```javascript
function SuperType(){ 
    this.colors = ["red", "blue", "green"];
}

function SubType(){ 
}

//ç»§æ‰¿äº† SuperType 
SubType.prototype = new SuperType();

var instance1 = new SubType(); 
instance1.colors.push("black"); 
alert(instance1.colors); //"red,blue,green,black"

var instance2 = new SubType(); 
alert(instance2.colors); //"red,blue,green,black"
```

è¯¥ SuperType çš„æ¯ä¸ªå®ä¾‹éƒ½ä¼šæœ‰å„è‡ªåŒ…å«è‡ªå·±æ•°ç»„çš„ colors å±æ€§ã€‚å½“ SubType é€šè¿‡åŸå‹é“¾ç»§æ‰¿äº† SuperType ä¹‹åï¼ŒSubType.prototype å°±å˜æˆäº† SuperType çš„ä¸€ä¸ªå®ä¾‹ï¼Œå› æ­¤å®ƒä¹Ÿæ‹¥æœ‰äº†ä¸€ä¸ªå®ƒè‡ªå·±çš„ colors å±æ€§â€”â€”å°±è·Ÿä¸“é—¨åˆ›å»ºäº†ä¸€ä¸ª SubType.prototype.colors å±æ€§ä¸€æ ·ã€‚ä½†ç»“æœæ˜¯ä»€ä¹ˆ å‘¢ï¼Ÿ**ç»“æœæ˜¯ SubType çš„æ‰€æœ‰å®ä¾‹éƒ½ä¼šå…±äº«è¿™ä¸€ä¸ª colors å±æ€§**ã€‚**è€Œæˆ‘ä»¬å¯¹ instance1.colors çš„ä¿®æ”¹ èƒ½å¤Ÿé€šè¿‡ instance2.colors åæ˜ å‡ºæ¥**ï¼Œå°±å·²ç»å……åˆ†è¯å®äº†è¿™ä¸€ç‚¹ã€‚



### å€Ÿç”¨æ„é€ å‡½æ•°

åœ¨å­ç±»å‹æ„é€ å‡½æ•°çš„å†…éƒ¨è°ƒç”¨è¶…ç±»å‹æ„é€ å‡½æ•°ã€‚

```javascript
function SuperType(){ 
    this.colors = ["red", "blue", "green"]; 
}

function SubType(){ 
    //ç»§æ‰¿äº† SuperType 
    SuperType.call(this); 
}

var instance1 = new SubType(); 
instance1.colors.push("black"); 
alert(instance1.colors); //"red,blue,green,black"

var instance2 = new SubType(); 
alert(instance2.colors); //"red,blue,green"
```

é€šè¿‡ä½¿ç”¨ call()æ–¹æ³•(æˆ– apply()æ–¹æ³• ä¹Ÿå¯ä»¥),æˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨(æœªæ¥å°†è¦)æ–°åˆ›å»ºçš„ SubType å®ä¾‹çš„ç¯å¢ƒä¸‹è°ƒç”¨äº† SuperType æ„é€ å‡½æ•°ã€‚ è¿™æ ·ä¸€æ¥ï¼Œå°±ä¼šåœ¨æ–° SubType å¯¹è±¡ä¸Šæ‰§è¡Œ SuperType()å‡½æ•°ä¸­å®šä¹‰çš„æ‰€æœ‰å¯¹è±¡åˆå§‹åŒ–ä»£ç ã€‚ç»“æœï¼ŒSubType çš„æ¯ä¸ªå®ä¾‹å°±éƒ½ä¼šå…·æœ‰è‡ªå·±çš„ colors å±æ€§çš„å‰¯æœ¬äº†

#### ä¼ é€’å‚æ•°

ç›¸å¯¹äºåŸå‹é“¾è€Œè¨€ï¼Œå€Ÿç”¨æ„é€ å‡½æ•°æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿ï¼Œå³å¯ä»¥åœ¨å­ç±»å‹æ„é€ å‡½æ•°ä¸­å‘è¶…ç±»å‹æ„é€ å‡½ æ•°ä¼ é€’å‚æ•°ã€‚çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ã€‚

```javascript
function SuperType(name){ 
    this.name = name; 
}

function SubType(){
	//ç»§æ‰¿äº† SuperTypeï¼ŒåŒæ—¶è¿˜ä¼ é€’äº†å‚æ•° 
	SuperType.call(this, "Nicholas");
	//å®ä¾‹å±æ€§ 
	this.age = 29;
}

var instance = new SubType(); 
alert(instance.name); //"Nicholas";
alert(instance.age); //29



```

> ä»¥ä¸Šä»£ç ä¸­çš„ SuperType åªæ¥å—ä¸€ä¸ªå‚æ•° nameï¼Œè¯¥å‚æ•°ä¼šç›´æ¥èµ‹ç»™ä¸€ä¸ªå±æ€§ã€‚åœ¨ SubType æ„é€  å‡½æ•°å†…éƒ¨è°ƒç”¨ SuperType æ„é€ å‡½æ•°æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä¸º SubType çš„å®ä¾‹è®¾ç½®äº† name å±æ€§ã€‚ä¸ºäº†ç¡®ä¿ SuperType æ„é€ å‡½æ•°ä¸ä¼šé‡å†™å­ç±»å‹çš„å±æ€§ï¼Œå¯ä»¥åœ¨è°ƒç”¨è¶…ç±»å‹æ„é€ å‡½æ•°åï¼Œå†æ·»åŠ åº”è¯¥åœ¨å­ç±»å‹ä¸­ å®šä¹‰çš„å±æ€§ã€‚

#### æ„é€ å‡½æ•°çš„é—®é¢˜

å¦‚æœä»…ä»…æ˜¯å€Ÿç”¨æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆä¹Ÿå°†æ— æ³•é¿å…æ„é€ å‡½æ•°æ¨¡å¼å­˜åœ¨çš„é—®é¢˜â€”â€”**æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œå› æ­¤å‡½æ•°å¤ç”¨å°±æ— ä»è°ˆèµ·äº†ã€‚**è€Œä¸”ï¼Œåœ¨è¶…ç±»å‹çš„åŸå‹ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œå¯¹å­ç±»å‹è€Œè¨€ä¹Ÿæ˜¯ä¸å¯è§çš„ï¼Œç»“æœæ‰€æœ‰ç±»å‹éƒ½åªèƒ½ä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼ã€‚è€ƒè™‘åˆ°è¿™äº›é—®é¢˜ï¼Œå€Ÿç”¨æ„é€ å‡½æ•°çš„æŠ€æœ¯ä¹Ÿæ˜¯å¾ˆå°‘å•ç‹¬ä½¿ç”¨çš„ã€‚

### ç»„åˆç»§æ‰¿

ç»„åˆç»§æ‰¿ï¼ˆcombination inheritanceï¼‰ï¼Œæœ‰æ—¶å€™ä¹Ÿå«åšä¼ªç»å…¸ç»§æ‰¿ï¼ŒæŒ‡çš„æ˜¯å°†åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°çš„ æŠ€æœ¯ç»„åˆåˆ°ä¸€å—ï¼Œä»è€Œå‘æŒ¥äºŒè€…ä¹‹é•¿çš„ä¸€ç§ç»§æ‰¿æ¨¡å¼ã€‚å…¶èƒŒåçš„æ€è·¯æ˜¯ä½¿ç”¨åŸå‹é“¾å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹ æ³•çš„ç»§æ‰¿ï¼Œè€Œé€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥å®ç°å¯¹å®ä¾‹å±æ€§çš„ç»§æ‰¿ã€‚è¿™æ ·ï¼Œæ—¢é€šè¿‡åœ¨åŸå‹ä¸Šå®šä¹‰æ–¹æ³•å®ç°äº†å‡½æ•° å¤ç”¨ï¼Œåˆèƒ½å¤Ÿä¿è¯æ¯ä¸ªå®ä¾‹éƒ½æœ‰å®ƒè‡ªå·±çš„å±æ€§ã€‚

```javascript
function SuperType(name){ 
    this.name = name; this.colors = ["red", "blue", "green"]; 
}

SuperType.prototype.sayName = function(){ 
    alert(this.name);
};

function SubType(name, age){
	//ç»§æ‰¿å±æ€§ 
    SuperType.call(this, name);
	this.age = age;
}

//ç»§æ‰¿æ–¹æ³• 
SubType.prototype = new SuperType();
SubType.prototype.constructor = SubType; 
SubType.prototype.sayAge = function(){ 
    alert(this.age); 
};

var instance1 = new SubType("Nicholas", 29); 
instance1.colors.push("black"); 
alert(instance1.colors); //"red,blue,green,black" 
instance1.sayName(); //"Nicholas"; 
instance1.sayAge(); //29

var instance2 = new SubType("Greg", 27); 
alert(instance2.colors); //"red,blue,green" 
instance2.sayName(); //"Greg"; 
instance2.sayAge(); //27
```

SuperType æ„é€ å‡½æ•°å®šä¹‰äº†ä¸¤ä¸ªå±æ€§ï¼šname å’Œ colorsã€‚SuperType çš„åŸå‹å®šä¹‰ äº†ä¸€ä¸ªæ–¹æ³• sayName()ã€‚SubType æ„é€ å‡½æ•°åœ¨è°ƒç”¨ SuperType æ„é€ å‡½æ•°æ—¶ä¼ å…¥äº† name å‚æ•°ï¼Œç´§æ¥ç€ åˆå®šä¹‰äº†å®ƒè‡ªå·±çš„å±æ€§ ageã€‚ç„¶åï¼Œå°† SuperType çš„å®ä¾‹èµ‹å€¼ç»™ SubType çš„åŸå‹ï¼Œç„¶ååˆåœ¨è¯¥æ–°åŸå‹ ä¸Šå®šä¹‰äº†æ–¹æ³• sayAge()ã€‚è¿™æ ·ä¸€æ¥ï¼Œå°±å¯ä»¥è®©ä¸¤ä¸ªä¸åŒçš„ SubType å®ä¾‹æ—¢åˆ†åˆ«æ‹¥æœ‰è‡ªå·±å±æ€§â€”â€”åŒ… æ‹¬ colors å±æ€§ï¼Œåˆå¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•äº†ã€‚

ç»„åˆç»§æ‰¿é¿å…äº†åŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°çš„ç¼ºé™·ï¼Œèåˆäº†å®ƒä»¬çš„ä¼˜ç‚¹ï¼Œæˆä¸º JavaScript ä¸­æœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼ã€‚è€Œä¸”ï¼Œinstanceof å’Œ isPrototypeOf()ä¹Ÿèƒ½å¤Ÿç”¨äºè¯†åˆ«åŸºäºç»„åˆç»§æ‰¿åˆ›å»ºçš„å¯¹è±¡

### åŸå‹å¼ç»§æ‰¿ 

æ ¸å¿ƒ åˆ©ç”¨Object.create()

Object.createåŸç†

```javascript
function object(o){ 
    function F(){} 
    F.prototype = o; 
    return new F(); 
}
```

åœ¨ object()å‡½æ•°å†…éƒ¨ï¼Œå…ˆåˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶æ€§çš„æ„é€ å‡½æ•°ï¼Œç„¶åå°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºè¿™ä¸ªæ„é€ å‡½æ•°çš„ åŸå‹ï¼Œæœ€åè¿”å›äº†è¿™ä¸ªä¸´æ—¶ç±»å‹çš„ä¸€ä¸ªæ–°å®ä¾‹ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œobject()å¯¹ä¼ å…¥å…¶ä¸­çš„å¯¹è±¡æ‰§è¡Œäº†ä¸€æ¬¡æµ…å¤åˆ¶ã€‚æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚

```javascript
var person = { 
    name: "Nicholas", 
    friends: ["Shelby", "Court", "Van"] 
};

var anotherPerson = object(person); 
anotherPerson.name = "Greg"; 
anotherPerson.friends.push("Rob");

var yetAnotherPerson = object(person);
yetAnotherPerson.name = "Linda"; 
yetAnotherPerson.friends.push("Barbie");
alert(person.friends); //"Shelby,Court,Van,Rob,Barbie"


```

è¦æ±‚ä½ å¿…é¡»æœ‰ä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå¯¹è±¡çš„åŸºç¡€ã€‚å¦‚æœæœ‰è¿™ä¹ˆ ä¸€ä¸ªå¯¹è±¡çš„è¯ï¼Œå¯ä»¥æŠŠå®ƒä¼ é€’ç»™ object()å‡½æ•°ï¼Œç„¶åå†æ ¹æ®å…·ä½“éœ€æ±‚å¯¹å¾—åˆ°çš„å¯¹è±¡åŠ ä»¥ä¿®æ”¹å³å¯ã€‚åœ¨è¿™ ä¸ªä¾‹å­ä¸­ï¼Œå¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå¯¹è±¡åŸºç¡€çš„æ˜¯ person å¯¹è±¡ï¼Œäºæ˜¯æˆ‘ä»¬æŠŠå®ƒä¼ å…¥åˆ° object()å‡½æ•°ä¸­ï¼Œç„¶åè¯¥ å‡½æ•°å°±ä¼šè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ã€‚è¿™ä¸ªæ–°å¯¹è±¡å°† person ä½œä¸ºåŸå‹ï¼Œæ‰€ä»¥å®ƒçš„åŸå‹ä¸­å°±åŒ…å«ä¸€ä¸ªåŸºæœ¬ç±»å‹å€¼å±æ€§ å’Œä¸€ä¸ªå¼•ç”¨ç±»å‹å€¼å±æ€§ã€‚è¿™æ„å‘³ç€ person.friends ä¸ä»…å±äº person æ‰€æœ‰ï¼Œè€Œä¸”ä¹Ÿä¼šè¢« anotherPerson ä»¥åŠ yetAnotherPerson å…±äº«ã€‚å®é™…ä¸Šï¼Œè¿™å°±ç›¸å½“äºåˆåˆ›å»ºäº† person å¯¹è±¡çš„ä¸¤ä¸ªå‰¯æœ¬

### å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿

```javascript
function SuperType(name){ 
    this.name = name; 
    this.colors = ["red", "blue", "green"]; 
}

SuperType.prototype.sayName = function(){ 
    alert(this.name); 
};

function SubType(name, age){ 
    SuperType.call(this, name);//ç¬¬äºŒæ¬¡è°ƒç”¨ SuperType()
	this.age = age;
}
SubType.prototype = new SuperType(); //ç¬¬ä¸€æ¬¡è°ƒç”¨ SuperType()
SubType.prototype.constructor = SubType; 
SubType.prototype.sayAge = function(){ 
    alert(this.age); 
};
```



å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„åŸºæœ¬æ¨¡å¼

```javascript
function inheritPrototype(subType, superType){ 
    var prototype = object(superType.prototype); 
    prototype.constructor = subType; 
    subType.prototype = prototype; 
}
```

è¿™ä¸ªç¤ºä¾‹ä¸­çš„ inheritPrototype()å‡½æ•°å®ç°äº†å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„æœ€ç®€å•å½¢å¼ã€‚åœ¨å‡½æ•°å†…éƒ¨ï¼Œç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºè¶…ç±»å‹åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬ã€‚ç¬¬äºŒ æ­¥æ˜¯ä¸ºåˆ›å»ºçš„å‰¯æœ¬æ·»åŠ  constructor å±æ€§ï¼Œä»è€Œå¼¥è¡¥å› é‡å†™åŸå‹è€Œå¤±å»çš„é»˜è®¤çš„ constructor å±æ€§ã€‚ æœ€åä¸€æ­¥ï¼Œ å°†æ–°åˆ›å»ºçš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»å‹çš„åŸå‹ã€‚ è¿™æ ·ï¼Œ æˆ‘ä»¬å°±å¯ä»¥ç”¨è°ƒç”¨ inheritPrototype()å‡½æ•°çš„è¯­å¥ï¼Œå»æ›¿æ¢å‰é¢ä¾‹å­ä¸­ä¸ºå­ç±»å‹åŸå‹èµ‹å€¼çš„è¯­å¥äº†ï¼Œ

```javascript
function SuperType(name){ 
    this.name = name; 
    this.colors = ["red", "blue", "green"]; 
}

SuperType.prototype.sayName = function(){ 
    alert(this.name); 
};

function SubType(name, age){ 
    SuperType.call(this, name);
	this.age = age;
}
inheritPrototype(SubType, SuperType); // é‡è¦
SubType.prototype.sayAge = function(){ 
    alert(this.age); 
};
```

# å‡½æ•°è¡¨è¾¾å¼

## é—­åŒ…
é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ª å‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚

```javascript
function createComparisonFunction(propertyName) {
	return function(object1, object2){
	var value1 = object1[propertyName]; 
    var value2 = object2[propertyName];
	if (value1 < value2){ 
        return -1; 
    }else if(value1 > value2){
		return 1; 
    }else{
		return 0; 
    }
  };
}
```

å³ä½¿è¿™ä¸ªå†…éƒ¨å‡½æ•°è¢«è¿”å›äº†ï¼Œè€Œä¸”æ˜¯åœ¨å…¶ä»–åœ°æ–¹è¢«è°ƒç”¨äº†ï¼Œä½†å®ƒä»ç„¶å¯ ä»¥è®¿é—®å˜é‡ propertyName ã€‚ ä¹‹æ‰€ä»¥è¿˜èƒ½å¤Ÿè®¿é—®è¿™ä¸ªå˜é‡ï¼Œ æ˜¯å› ä¸ºå†…éƒ¨å‡½æ•°çš„ä½œç”¨åŸŸé“¾ä¸­åŒ…å« createComparisonFunction()çš„ä½œç”¨åŸŸã€‚



## æ¨¡ä»¿å—çº§ä½œç”¨åŸŸ

## ES6å—çº§ä½œç”¨



## ç§æœ‰å˜é‡

çº¢å®ä¹¦åœ¨è¿™é‡Œè§£é‡Šçš„æœ‰äº›è½åï¼Œå‚è€ƒè¿™ä¸ªä¾‹å­(æ¥æºæ˜é‡‘)

https://juejin.im/post/5a8e9b6d5188257a5f1ed826

### å‘½åçº¦å®š

ç¬¬ä¸€ä¸ªä¹Ÿæ˜¯æœ€æˆç†Ÿçš„æ–¹æ³•æ˜¯ä½¿ç”¨ç‰¹å®šçš„å‘½åçº¦å®šæ¥è¡¨ç¤ºå±æ€§åº”è¯¥è¢«è§†ä¸ºç§æœ‰ã€‚é€šå¸¸ä»¥ä¸‹åˆ’çº¿ä½œä¸ºå±æ€§åç§°çš„å‰ç¼€ï¼ˆä¾‹å¦‚ `_count` ï¼‰ã€‚è¿™å¹¶æ²¡æœ‰çœŸæ­£é˜»æ­¢å˜é‡è¢«è®¿é—®æˆ–ä¿®æ”¹ï¼Œè€Œæ˜¯ä¾èµ–äºå¼€å‘è€…ä¹‹é—´çš„ç›¸äº’ç†è§£ï¼Œè®¤ä¸ºè¿™ä¸ªå˜é‡åº”è¯¥è¢«è§†ä¸ºé™åˆ¶è®¿é—®ã€‚

### WeakMap

### Proxy


# BOM

## windowå¯¹è±¡

å…¨å±€ä½œç”¨åŸŸ

çª—å£å…³ç³»åŠæ¡†æ¶

## screen

## history




# å®¢æˆ·ç«¯æ£€æµ‹



# DOM


# Canvas 

æ€§èƒ½éå¸¸å¥½çš„åŸå› å°±æ˜¯å€ŸåŠ©äº†æ˜¾å¡åŠ é€Ÿ

CSS3æ€§èƒ½å¦‚æœåŠ å…¥translate z 0 ä¹Ÿä¼šæå‡æ€§èƒ½



# HTML5 è„šæœ¬ç¼–ç¨‹



# é”™è¯¯å¤„ç†ä¸è°ƒè¯•

# json



# Ajax å’Œ Comet

## XMLHttpRequestå¯¹è±¡

## XMLHttpRequest 2 

# é«˜çº§æŠ€å·§

## é«˜çº§å‡½æ•°

### å®‰å…¨çš„ç±»å‹æ£€æµ‹

```javascript
 var isArray = value instanceof Array;
```

å¯ä»¥åˆ©ç”¨Object åŸç”Ÿçš„ toString()æ–¹æ³•è¿›è¡Œè°ƒç”¨

è¿”å›çš„æ˜¯[object ,NativeConstructorName ]çš„å­—ç¬¦ä¸²

```javascript
function isArray(value){
	Object.prototype.toSting.call(value) == "[object Array]";
}
```

### ä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•°

```javascript
function Person(name, age, job){
    this.name = name;
    this.age = age;
    this.job = job;
}
var person = new Person("Nicholas", 29, "Software Engineer");
```

### å‡½æ•°æŸ¯é‡ŒåŒ–





### å‡½æ•°ç»‘å®š



## é˜²ç¯¡æ”¹å¯¹è±¡

### ä¸å¯æ‰©å±•å¯¹è±¡

### å¯†å°çš„å¯¹è±¡

### å†»ç»“çš„å¯¹è±¡

### 

## é«˜çº§å®šæ—¶å™¨

### é‡å¤çš„å®šæ—¶å™¨



### Yielding Processes

### å‡½æ•°èŠ‚æµ

## è‡ªå®šä¹‰äº‹ä»¶

# ç¦»çº¿åº”ç”¨å’Œå®¢æˆ·ç«¯ç¼“å­˜

## ç¦»çº¿æ£€æµ‹



# è¡¥å……

## requestAnimationFrame()





## Web Workers



## å›æµé‡ç»˜çš„åŒºåˆ«



## event loopåˆ°async await















